{"ast":null,"code":"// src/components/ManageWeddingVip.js\nimport React,{useEffect,useState}from'react';import axios from'axios';import EditWeddingVip from'./EditWeddingVip';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ManageWeddingVip=()=>{const[weddingVips,setWeddingVips]=useState([]);const[searchTerm,setSearchTerm]=useState(\"\");const[filteredWeddingVips,setFilteredWeddingVips]=useState([]);const[editWeddingVip,setEditWeddingVip]=useState(null);const[showAlert,setShowAlert]=useState(false);useEffect(()=>{const fetchWeddingVips=async()=>{try{const response=await axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/weddingvip\"));setWeddingVips(response.data);}catch(error){console.error('Error fetching Wedding VIPs:',error);}};fetchWeddingVips();},[]);useEffect(()=>{const filtered=weddingVips.filter(vip=>{return vip.title&&vip.title.toLowerCase().includes(searchTerm.toLowerCase())||vip.description&&vip.description.toLowerCase().includes(searchTerm.toLowerCase());});setFilteredWeddingVips(filtered);},[searchTerm,weddingVips]);const handleSearchChange=e=>{setSearchTerm(e.target.value);};const handleSubmit=e=>{e.preventDefault();};const handleDelete=async id=>{const confirmed=window.confirm(\"Are you sure you want to delete this Wedding VIP?\");if(!confirmed)return;try{await axios.delete(\"\".concat(process.env.REACT_APP_API_URL,\"/api/weddingvip/\").concat(id));setWeddingVips(weddingVips.filter(vip=>vip._id!==id));setShowAlert(true);}catch(error){console.error('Error deleting Wedding VIP:',error);}};const handleEdit=vip=>{setEditWeddingVip(vip);};return/*#__PURE__*/_jsxs(\"div\",{className:\"weddingvips\",children:[showAlert&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-success alert-dismissible fade show\",role:\"alert\",children:[\"Action successful!\",/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"close\",onClick:()=>setShowAlert(false),children:/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",children:\"\\xD7\"})})]}),editWeddingVip?/*#__PURE__*/_jsx(EditWeddingVip,{weddingVip:editWeddingVip,setEditWeddingVip:setEditWeddingVip,setShowAlert:setShowAlert}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Manage Wedding VIPs\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total Entries: \",weddingVips.length]}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,className:\"mb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-group d-flex\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Search by title or description\",value:searchTerm,onChange:handleSearchChange})})}),/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Category\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredWeddingVips.map(vip=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:vip.title}),/*#__PURE__*/_jsx(\"td\",{children:vip.category}),/*#__PURE__*/_jsx(\"td\",{children:vip.description}),/*#__PURE__*/_jsx(\"td\",{children:vip.isPublished}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-warning mr-2\",onClick:()=>handleEdit(vip),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:()=>handleDelete(vip._id),children:\"Delete\"})]})]},vip._id))})]})]})]});};export default ManageWeddingVip;","map":{"version":3,"names":["React","useEffect","useState","axios","EditWeddingVip","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ManageWeddingVip","weddingVips","setWeddingVips","searchTerm","setSearchTerm","filteredWeddingVips","setFilteredWeddingVips","editWeddingVip","setEditWeddingVip","showAlert","setShowAlert","fetchWeddingVips","response","get","concat","process","env","REACT_APP_API_URL","data","error","console","filtered","filter","vip","title","toLowerCase","includes","description","handleSearchChange","e","target","value","handleSubmit","preventDefault","handleDelete","id","confirmed","window","confirm","delete","_id","handleEdit","className","children","role","type","onClick","weddingVip","length","onSubmit","placeholder","onChange","map","category","isPublished"],"sources":["D:/My Work/DubaiMusic/dubai-music/src/components/Dashboard/ManageWeddingVip.js"],"sourcesContent":["// src/components/ManageWeddingVip.js\r\nimport React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport EditWeddingVip from './EditWeddingVip';\r\n\r\nconst ManageWeddingVip = () => {\r\n  const [weddingVips, setWeddingVips] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [filteredWeddingVips, setFilteredWeddingVips] = useState([]);\r\n  const [editWeddingVip, setEditWeddingVip] = useState(null);\r\n  const [showAlert, setShowAlert] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchWeddingVips = async () => {\r\n      try {\r\n        const response = await axios.get(`${process.env.REACT_APP_API_URL}/api/weddingvip`);\r\n        setWeddingVips(response.data);\r\n      } catch (error) {\r\n        console.error('Error fetching Wedding VIPs:', error);\r\n      }\r\n    };\r\n\r\n    fetchWeddingVips();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const filtered = weddingVips.filter((vip) => {\r\n      return (\r\n        (vip.title && vip.title.toLowerCase().includes(searchTerm.toLowerCase())) ||\r\n        (vip.description && vip.description.toLowerCase().includes(searchTerm.toLowerCase()))\r\n      );\r\n    });\r\n    setFilteredWeddingVips(filtered);\r\n  }, [searchTerm, weddingVips]);\r\n\r\n  const handleSearchChange = (e) => {\r\n    setSearchTerm(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    const confirmed = window.confirm(\"Are you sure you want to delete this Wedding VIP?\");\r\n    if (!confirmed) return;\r\n\r\n    try {\r\n      await axios.delete(`${process.env.REACT_APP_API_URL}/api/weddingvip/${id}`);\r\n      setWeddingVips(weddingVips.filter((vip) => vip._id !== id));\r\n      setShowAlert(true);\r\n    } catch (error) {\r\n      console.error('Error deleting Wedding VIP:', error);\r\n    }\r\n  };\r\n\r\n  const handleEdit = (vip) => {\r\n    setEditWeddingVip(vip);\r\n  };\r\n\r\n  return (\r\n    <div className=\"weddingvips\">\r\n      {showAlert && (\r\n        <div\r\n          className=\"alert alert-success alert-dismissible fade show\"\r\n          role=\"alert\"\r\n        >\r\n          Action successful!\r\n          <button\r\n            type=\"button\"\r\n            className=\"close\"\r\n            onClick={() => setShowAlert(false)}\r\n          >\r\n            <span aria-hidden=\"true\">&times;</span>\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {editWeddingVip ? (\r\n        <EditWeddingVip\r\n          weddingVip={editWeddingVip}\r\n          setEditWeddingVip={setEditWeddingVip}\r\n          setShowAlert={setShowAlert}\r\n        />\r\n      ) : (\r\n        <>\r\n          <h3>Manage Wedding VIPs</h3>\r\n          <p>Total Entries: {weddingVips.length}</p>\r\n\r\n          <form onSubmit={handleSubmit} className=\"mb-3\">\r\n            <div className=\"form-group d-flex\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                placeholder=\"Search by title or description\"\r\n                value={searchTerm}\r\n                onChange={handleSearchChange}\r\n              />\r\n            </div>\r\n          </form>\r\n\r\n          <table className=\"table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Title</th>\r\n                <th>Category</th>\r\n                <th>Description</th>\r\n                <th>Status</th>\r\n                <th>Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {filteredWeddingVips.map((vip) => (\r\n                <tr key={vip._id}>\r\n                  <td>{vip.title}</td>\r\n                  <td>{vip.category}</td>\r\n                  <td>{vip.description}</td>\r\n                  <td>{vip.isPublished}</td>\r\n\r\n                  <td>\r\n                    <button\r\n                      className=\"btn btn-warning mr-2\"\r\n                      onClick={() => handleEdit(vip)}\r\n                    >\r\n                      Edit\r\n                    </button>\r\n                    <button\r\n                      className=\"btn btn-danger\"\r\n                      onClick={() => handleDelete(vip._id)}\r\n                    >\r\n                      Delete\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManageWeddingVip;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}