{"ast":null,"code":"import{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[input,setInput]=useState({email:'',password:''});const[error,setError]=useState('');const handleSubmitEvent=async e=>{e.preventDefault();try{const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/api/login\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:input.email,password:input.password})});if(response.ok){const data=await response.json();localStorage.setItem('token',data.token);window.location.href='/venues';}else{const errorData=await response.json();setError(errorData.message);}}catch(error){setError('An error occurred. Please try again.');}};const handleInput=e=>{const{name,value}=e.target;setInput({...input,[name]:value});};return/*#__PURE__*/_jsx(\"div\",{className:\"bg-custom\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container \",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",style:{justifyContent:'center'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 bg-black p-5\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmitEvent,className:\"form mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form_control\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"user-email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"user-email\",name:\"email\",\"aria-describedby\":\"user-email\",\"aria-invalid\":\"false\",onChange:handleInput,className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form_control my-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",\"aria-describedby\":\"user-password\",\"aria-invalid\":\"false\",onChange:handleInput,className:\"form-control\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn instant-btn px-5\",children:\"Login\"})]}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:error})]})})})});};export default Login;","map":{"version":3,"names":["useState","jsx","_jsx","jsxs","_jsxs","Login","input","setInput","email","password","error","setError","handleSubmitEvent","e","preventDefault","response","fetch","concat","process","env","REACT_APP_API_URL","method","headers","body","JSON","stringify","ok","data","json","localStorage","setItem","token","window","location","href","errorData","message","handleInput","name","value","target","className","children","style","justifyContent","onSubmit","htmlFor","type","id","onChange","color"],"sources":["D:/My Work/DubaiMusic/dubai-music/src/components/Dashboard/Login.js"],"sourcesContent":["import { useState } from 'react';\r\n\r\nconst Login = () => {\r\n  const [input, setInput] = useState({ email: '', password: '' });\r\n  const [error, setError] = useState('');\r\n\r\n\r\n\r\n  const handleSubmitEvent = async (e) => {\r\n    e.preventDefault();\r\n  \r\n    try {\r\n      const response = await fetch(`${process.env.REACT_APP_API_URL}/api/login`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n          email: input.email,\r\n          password: input.password\r\n        })\r\n      });\r\n  \r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        localStorage.setItem('token', data.token);\r\n        window.location.href = '/venues';\r\n      } else {\r\n        const errorData = await response.json();\r\n        setError(errorData.message);\r\n      }\r\n    } catch (error) {\r\n      setError('An error occurred. Please try again.');\r\n    }\r\n  };\r\n  \r\n  \r\n\r\n  const handleInput = (e) => {\r\n    const { name, value } = e.target;\r\n    setInput({ ...input, [name]: value });\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-custom\">\r\n      <div className=\"container \">\r\n        <div className=\"row\"  style={{ justifyContent: 'center' }}>\r\n          <div className=\"col-md-6 bg-black p-5\">\r\n        <form onSubmit={handleSubmitEvent} className=\"form mb-3\">\r\n          <div className=\"form_control\">\r\n            <label htmlFor=\"user-email\">Email</label>\r\n            <input\r\n              type=\"email\"\r\n              id=\"user-email\"\r\n              name=\"email\"\r\n              aria-describedby=\"user-email\"\r\n              aria-invalid=\"false\"\r\n              onChange={handleInput}\r\n              className=\"form-control\"\r\n            />\r\n          </div>\r\n          <div className=\"form_control my-3\">\r\n            <label htmlFor=\"password\">Password</label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"password\"\r\n              name=\"password\"\r\n              aria-describedby=\"user-password\"\r\n              aria-invalid=\"false\"\r\n              onChange={handleInput}\r\n              className=\"form-control\"\r\n            />\r\n          </div>\r\n          <button className=\"btn instant-btn px-5\">Login</button>\r\n        </form>\r\n        {error && <p style={{ color: \"red\" }}>{error}</p>}\r\n        </div>\r\n        </div>\r\n        \r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}