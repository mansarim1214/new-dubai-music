{"ast":null,"code":"var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport PhotoSwipe from 'photoswipe';\nimport React, { useRef, useCallback, useEffect, useMemo, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport sortNodes from \"./helpers/sort-nodes.js\";\nimport objectToHash from \"./helpers/object-to-hash.js\";\nimport hashToObject from \"./helpers/hash-to-object.js\";\nimport getHashWithoutGidAndPid from \"./helpers/get-hash-without-gid-and-pid.js\";\nimport getHashValue from \"./helpers/get-hash-value.js\";\nimport getBaseUrl from \"./helpers/get-base-url.js\";\nimport hashIncludesNavigationQueryParams from \"./helpers/hash-includes-navigation-query-params.js\";\nimport getInitialActiveSlideIndex from \"./helpers/get-initial-active-slide-index.js\";\nimport ensureRefPassed from \"./helpers/ensure-ref-passed.js\";\nimport entryItemRefIsElement from \"./helpers/entry-item-ref-is-element.js\";\nimport { Context } from \"./context.js\";\nimport PhotoSwipeLightboxStub from \"./lightbox-stub.js\";\nimport { NoRefError } from \"./no-ref-error.js\";\n/**\n * This variable stores the PhotoSwipe instance object\n * It aims to check whether does the PhotoSwipe opened at the moment\n * (analog of window.pswp in 'photoswipe/lightbox')\n */\nlet pswp = null;\n/**\n * Gallery component providing photoswipe context\n */\nexport const Gallery = _ref => {\n  let {\n    children,\n    options,\n    plugins,\n    uiElements,\n    id: galleryUID,\n    onBeforeOpen,\n    onOpen,\n    withCaption,\n    withDownloadButton\n  } = _ref;\n  const [contentPortal, setContentPortal] = useState(null);\n  const items = useRef(new Map());\n  /**\n   * Store PID from hash if there are no items yet,\n   * but we need to open photoswipe if items appear in the next render\n   */\n  const openWhenReadyPid = useRef(null);\n  const open = useCallback((targetRef, targetId, itemIndex, e) => {\n    // only one photoswipe instance could be opened at once\n    // so if photoswipe is already open, function should do nothing\n    if (pswp) {\n      return;\n    }\n    const entries = Array.from(items.current);\n    if (typeof itemIndex === 'number' && (entries[itemIndex] === undefined || !entryItemRefIsElement(entries[itemIndex]))) {\n      throw new NoRefError(\"Failed to open at index \".concat(itemIndex));\n    }\n    const {\n      slides,\n      index\n    } = entries.map(ensureRefPassed).sort((_ref2, _ref3) => {\n      let [{\n        current: a\n      }] = _ref2;\n      let [{\n        current: b\n      }] = _ref3;\n      return sortNodes(a, b);\n    }).reduce((acc, entry, i) => {\n      const [ref, _a] = entry,\n        {\n          width,\n          height,\n          original,\n          originalSrcset,\n          thumbnail,\n          cropped,\n          content,\n          id: pid\n        } = _a,\n        rest = __rest(_a, [\"width\", \"height\", \"original\", \"originalSrcset\", \"thumbnail\", \"cropped\", \"content\", \"id\"]);\n      if (targetRef === ref || pid !== undefined && String(pid) === targetId) {\n        acc.index = i;\n      }\n      acc.slides.push(Object.assign(Object.assign(Object.assign({\n        w: Number(width),\n        h: Number(height),\n        src: original,\n        srcset: originalSrcset,\n        msrc: thumbnail,\n        element: ref.current,\n        thumbCropped: cropped,\n        content\n      }, content !== undefined ? {\n        type: 'html'\n      } : {}), pid !== undefined ? {\n        pid\n      } : {}), rest));\n      return acc;\n    }, {\n      slides: [],\n      index: itemIndex || null\n    });\n    const initialPoint = e && e.clientX !== undefined && e.clientY !== undefined ? {\n      x: e.clientX,\n      y: e.clientY\n    } : null;\n    const instance = new PhotoSwipe(Object.assign({\n      dataSource: slides,\n      index: getInitialActiveSlideIndex(index, targetId),\n      initialPointerPos: initialPoint\n    }, options || {}));\n    pswp = instance;\n    instance.on('contentActivate', _ref4 => {\n      let {\n        content: slideContent\n      } = _ref4;\n      if (slideContent.data.content) {\n        setContentPortal(createPortal(slideContent.data.content, slideContent.element));\n      } else {\n        setContentPortal(null);\n      }\n    });\n    instance.on('close', () => {\n      setContentPortal(null);\n    });\n    if (withDownloadButton) {\n      instance.on('uiRegister', () => {\n        var _a;\n        (_a = instance.ui) === null || _a === void 0 ? void 0 : _a.registerElement({\n          name: 'download-button',\n          ariaLabel: 'Download',\n          order: 8,\n          isButton: true,\n          tagName: 'a',\n          appendTo: 'bar',\n          html: {\n            isCustomSVG: true,\n            inner: '<path d=\"M20.5 14.3 17.1 18V10h-2.2v7.9l-3.4-3.6L10 16l6 6.1 6-6.1ZM23 23H9v2h14Z\" id=\"pswp__icn-download\"/>',\n            outlineID: 'pswp__icn-download'\n          },\n          // can't test onInit callback correctly\n          onInit: /* istanbul ignore next */(el, pswpInstance) => {\n            el.setAttribute('download', '');\n            el.setAttribute('target', '_blank');\n            el.setAttribute('rel', 'noopener');\n            instance.on('change', () => {\n              var _a;\n              if (!((_a = pswpInstance.currSlide) === null || _a === void 0 ? void 0 : _a.data.src)) {\n                return;\n              }\n              const downloadButton = el;\n              downloadButton.href = pswpInstance.currSlide.data.src;\n            });\n          }\n        });\n      });\n    }\n    if (withCaption) {\n      instance.on('uiRegister', () => {\n        var _a;\n        (_a = instance.ui) === null || _a === void 0 ? void 0 : _a.registerElement({\n          name: 'default-caption',\n          order: 9,\n          isButton: false,\n          appendTo: 'root',\n          // can't test onInit callback correctly\n          onInit: /* istanbul ignore next */(el, pswpInstance) => {\n            /* eslint-disable no-param-reassign */\n            el.style.position = 'absolute';\n            el.style.bottom = '15px';\n            el.style.left = '0';\n            el.style.right = '0';\n            el.style.padding = '0 20px';\n            el.style.color = 'var(--pswp-icon-color)';\n            el.style.textAlign = 'center';\n            el.style.fontSize = '14px';\n            el.style.lineHeight = '1.5';\n            el.style.textShadow = '1px 1px 3px var(--pswp-icon-color-secondary)';\n            /* eslint-enable no-param-reassign */\n            instance.on('change', () => {\n              if (!pswpInstance.currSlide) {\n                return;\n              }\n              const {\n                caption,\n                alt\n              } = pswpInstance.currSlide.data;\n              // eslint-disable-next-line no-param-reassign\n              el.innerHTML = caption || alt || '';\n            });\n          }\n        });\n      });\n    }\n    if (Array.isArray(uiElements)) {\n      uiElements.forEach(uiElement => {\n        instance.on('uiRegister', () => {\n          var _a;\n          (_a = instance.ui) === null || _a === void 0 ? void 0 : _a.registerElement(uiElement);\n        });\n      });\n    }\n    if (typeof plugins === 'function') {\n      plugins(new PhotoSwipeLightboxStub(instance));\n    }\n    if (typeof onBeforeOpen === 'function') {\n      onBeforeOpen(instance);\n    }\n    const getHistoryState = () => {\n      return {\n        gallery: {\n          galleryUID\n        }\n      };\n    };\n    instance.on('beforeOpen', () => {\n      var _a;\n      if (galleryUID === undefined) {\n        return;\n      }\n      const hashIncludesGidAndPid = hashIncludesNavigationQueryParams(getHashValue());\n      // was openned by react-photoswipe-gallery's open() method call (click on thumbnail, for example)\n      // we need to create new history record to store hash navigation state\n      if (!hashIncludesGidAndPid) {\n        window.history.pushState(getHistoryState(), document.title);\n        return;\n      }\n      const hasGalleryStateInHistory = Boolean((_a = window.history.state) === null || _a === void 0 ? void 0 : _a.gallery);\n      // was openned by history.forward()\n      // we do not need to create new history record for hash navigation\n      // because we already have one\n      if (hasGalleryStateInHistory) {\n        return;\n      }\n      // was openned by link with gid and pid\n      const baseUrl = getBaseUrl();\n      const currentHash = getHashValue();\n      const hashWithoutGidAndPid = getHashWithoutGidAndPid(currentHash);\n      const urlWithoutOpenedSlide = \"\".concat(baseUrl).concat(hashWithoutGidAndPid ? \"#\".concat(hashWithoutGidAndPid) : '');\n      const urlWithOpenedSlide = \"\".concat(baseUrl, \"#\").concat(currentHash);\n      // firstly, we need to modify current history record - set url without gid and pid\n      // we will return to this state after photoswipe closing\n      window.history.replaceState(window.history.state, document.title, urlWithoutOpenedSlide);\n      // then we need to create new history record to store hash navigation state\n      window.history.pushState(getHistoryState(), document.title, urlWithOpenedSlide);\n    });\n    instance.on('change', () => {\n      var _a;\n      if (galleryUID === undefined) {\n        return;\n      }\n      const pid = ((_a = instance.currSlide) === null || _a === void 0 ? void 0 : _a.data.pid) || instance.currIndex + 1;\n      const baseUrl = getBaseUrl();\n      const baseHash = getHashWithoutGidAndPid(getHashValue());\n      const gidAndPidHash = objectToHash({\n        gid: galleryUID,\n        pid\n      });\n      const urlWithOpenedSlide = \"\".concat(baseUrl, \"#\").concat(baseHash, \"&\").concat(gidAndPidHash);\n      // updates in current history record hash value with actual pid\n      window.history.replaceState(getHistoryState(), document.title, urlWithOpenedSlide);\n    });\n    const closeGalleryOnHistoryPopState = () => {\n      if (galleryUID === undefined) {\n        return;\n      }\n      if (pswp !== null) {\n        pswp.close();\n      }\n    };\n    window.addEventListener('popstate', closeGalleryOnHistoryPopState);\n    instance.on('destroy', () => {\n      if (galleryUID !== undefined) {\n        window.removeEventListener('popstate', closeGalleryOnHistoryPopState);\n        // if hash includes gid and pid => this destroy was called with ordinary instance.close() call\n        // if not => destroy was called by history.back (browser's back button) => history has been already returned to previous state\n        if (hashIncludesNavigationQueryParams(getHashValue())) {\n          window.history.back();\n        }\n      }\n      pswp = null;\n    });\n    instance.init();\n    if (typeof onOpen === 'function') {\n      onOpen(instance);\n    }\n  }, [options, plugins, uiElements, galleryUID, onBeforeOpen, onOpen, withCaption, withDownloadButton]);\n  useEffect(() => {\n    return () => {\n      if (pswp) {\n        pswp.close();\n      }\n    };\n  }, []);\n  const openGalleryBasedOnUrlHash = useCallback(() => {\n    if (galleryUID === undefined) {\n      return;\n    }\n    if (pswp !== null) {\n      return;\n    }\n    const hash = getHashValue();\n    if (hash.length < 5) {\n      return;\n    }\n    const params = hashToObject(hash);\n    const {\n      pid,\n      gid\n    } = params;\n    if (!pid || !gid) {\n      return;\n    }\n    if (items.current.size === 0) {\n      // no items currently, save PID from hash for future use\n      openWhenReadyPid.current = pid;\n      return;\n    }\n    if (pid && gid === String(galleryUID)) {\n      open(null, pid);\n    }\n  }, [open, galleryUID]);\n  useEffect(() => {\n    openGalleryBasedOnUrlHash();\n    // needed for case when gallery was firstly opened, then was closed and user clicked on browser's forward button\n    window.addEventListener('popstate', openGalleryBasedOnUrlHash);\n    return () => {\n      window.removeEventListener('popstate', openGalleryBasedOnUrlHash);\n    };\n  }, [openGalleryBasedOnUrlHash]);\n  const remove = useCallback(ref => {\n    items.current.delete(ref);\n  }, []);\n  const set = useCallback((ref, data) => {\n    items.current.set(ref, data);\n    if (openWhenReadyPid.current === null) {\n      return;\n    }\n    const {\n      id\n    } = data;\n    if (id === openWhenReadyPid.current) {\n      // user provided `id` prop of Item component\n      open(ref);\n      openWhenReadyPid.current = null;\n      return;\n    }\n    if (!id) {\n      // in this case we using index of item as PID\n      const index = parseInt(openWhenReadyPid.current, 10) - 1;\n      const refToOpen = Array.from(items.current.keys())[index];\n      if (refToOpen) {\n        open(refToOpen);\n        openWhenReadyPid.current = null;\n      }\n    }\n  }, [open]);\n  const isRefRegistered = useCallback(ref => {\n    return items.current.has(ref);\n  }, []);\n  const openAt = useCallback(index => {\n    open(null, null, index);\n  }, [open]);\n  const contextValue = useMemo(() => ({\n    remove,\n    set,\n    handleClick: open,\n    open: openAt,\n    isRefRegistered\n  }), [remove, set, open, openAt, isRefRegistered]);\n  return React.createElement(Context.Provider, {\n    value: contextValue\n  }, children, contentPortal);\n};\nGallery.propTypes = {\n  children: PropTypes.any,\n  options: PropTypes.object,\n  plugins: PropTypes.func,\n  uiElements: PropTypes.array,\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  onBeforeOpen: PropTypes.func,\n  onOpen: PropTypes.func,\n  withCaption: PropTypes.bool,\n  withDownloadButton: PropTypes.bool\n};","map":{"version":3,"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","PhotoSwipe","React","useRef","useCallback","useEffect","useMemo","useState","createPortal","PropTypes","sortNodes","objectToHash","hashToObject","getHashWithoutGidAndPid","getHashValue","getBaseUrl","hashIncludesNavigationQueryParams","getInitialActiveSlideIndex","ensureRefPassed","entryItemRefIsElement","Context","PhotoSwipeLightboxStub","NoRefError","pswp","Gallery","_ref","children","options","plugins","uiElements","id","galleryUID","onBeforeOpen","onOpen","withCaption","withDownloadButton","contentPortal","setContentPortal","items","Map","openWhenReadyPid","open","targetRef","targetId","itemIndex","entries","Array","from","current","undefined","concat","slides","index","map","sort","_ref2","_ref3","a","b","reduce","acc","entry","ref","_a","width","height","original","originalSrcset","thumbnail","cropped","content","pid","rest","String","push","assign","w","Number","h","src","srcset","msrc","element","thumbCropped","type","initialPoint","clientX","clientY","x","y","instance","dataSource","initialPointerPos","on","_ref4","slideContent","data","ui","registerElement","name","ariaLabel","order","isButton","tagName","appendTo","html","isCustomSVG","inner","outlineID","onInit","el","pswpInstance","setAttribute","currSlide","downloadButton","href","style","position","bottom","left","right","padding","color","textAlign","fontSize","lineHeight","textShadow","caption","alt","innerHTML","isArray","forEach","uiElement","getHistoryState","gallery","hashIncludesGidAndPid","window","history","pushState","document","title","hasGalleryStateInHistory","Boolean","state","baseUrl","currentHash","hashWithoutGidAndPid","urlWithoutOpenedSlide","urlWithOpenedSlide","replaceState","currIndex","baseHash","gidAndPidHash","gid","closeGalleryOnHistoryPopState","close","addEventListener","removeEventListener","back","init","openGalleryBasedOnUrlHash","hash","params","size","remove","delete","set","parseInt","refToOpen","keys","isRefRegistered","has","openAt","contextValue","handleClick","createElement","Provider","value","propTypes","any","object","func","array","oneOfType","string","number","bool"],"sources":["D:/My Work/DubaiMusic/dubai-music/node_modules/react-photoswipe-gallery/dist/gallery.js"],"sourcesContent":["var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport PhotoSwipe from 'photoswipe';\nimport React, { useRef, useCallback, useEffect, useMemo, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport sortNodes from \"./helpers/sort-nodes.js\";\nimport objectToHash from \"./helpers/object-to-hash.js\";\nimport hashToObject from \"./helpers/hash-to-object.js\";\nimport getHashWithoutGidAndPid from \"./helpers/get-hash-without-gid-and-pid.js\";\nimport getHashValue from \"./helpers/get-hash-value.js\";\nimport getBaseUrl from \"./helpers/get-base-url.js\";\nimport hashIncludesNavigationQueryParams from \"./helpers/hash-includes-navigation-query-params.js\";\nimport getInitialActiveSlideIndex from \"./helpers/get-initial-active-slide-index.js\";\nimport ensureRefPassed from \"./helpers/ensure-ref-passed.js\";\nimport entryItemRefIsElement from \"./helpers/entry-item-ref-is-element.js\";\nimport { Context } from \"./context.js\";\nimport PhotoSwipeLightboxStub from \"./lightbox-stub.js\";\nimport { NoRefError } from \"./no-ref-error.js\";\n/**\n * This variable stores the PhotoSwipe instance object\n * It aims to check whether does the PhotoSwipe opened at the moment\n * (analog of window.pswp in 'photoswipe/lightbox')\n */\nlet pswp = null;\n/**\n * Gallery component providing photoswipe context\n */\nexport const Gallery = ({\n  children,\n  options,\n  plugins,\n  uiElements,\n  id: galleryUID,\n  onBeforeOpen,\n  onOpen,\n  withCaption,\n  withDownloadButton\n}) => {\n  const [contentPortal, setContentPortal] = useState(null);\n  const items = useRef(new Map());\n  /**\n   * Store PID from hash if there are no items yet,\n   * but we need to open photoswipe if items appear in the next render\n   */\n  const openWhenReadyPid = useRef(null);\n  const open = useCallback((targetRef, targetId, itemIndex, e) => {\n    // only one photoswipe instance could be opened at once\n    // so if photoswipe is already open, function should do nothing\n    if (pswp) {\n      return;\n    }\n    const entries = Array.from(items.current);\n    if (typeof itemIndex === 'number' && (entries[itemIndex] === undefined || !entryItemRefIsElement(entries[itemIndex]))) {\n      throw new NoRefError(`Failed to open at index ${itemIndex}`);\n    }\n    const {\n      slides,\n      index\n    } = entries.map(ensureRefPassed).sort(([{\n      current: a\n    }], [{\n      current: b\n    }]) => sortNodes(a, b)).reduce((acc, entry, i) => {\n      const [ref, _a] = entry,\n        {\n          width,\n          height,\n          original,\n          originalSrcset,\n          thumbnail,\n          cropped,\n          content,\n          id: pid\n        } = _a,\n        rest = __rest(_a, [\"width\", \"height\", \"original\", \"originalSrcset\", \"thumbnail\", \"cropped\", \"content\", \"id\"]);\n      if (targetRef === ref || pid !== undefined && String(pid) === targetId) {\n        acc.index = i;\n      }\n      acc.slides.push(Object.assign(Object.assign(Object.assign({\n        w: Number(width),\n        h: Number(height),\n        src: original,\n        srcset: originalSrcset,\n        msrc: thumbnail,\n        element: ref.current,\n        thumbCropped: cropped,\n        content\n      }, content !== undefined ? {\n        type: 'html'\n      } : {}), pid !== undefined ? {\n        pid\n      } : {}), rest));\n      return acc;\n    }, {\n      slides: [],\n      index: itemIndex || null\n    });\n    const initialPoint = e && e.clientX !== undefined && e.clientY !== undefined ? {\n      x: e.clientX,\n      y: e.clientY\n    } : null;\n    const instance = new PhotoSwipe(Object.assign({\n      dataSource: slides,\n      index: getInitialActiveSlideIndex(index, targetId),\n      initialPointerPos: initialPoint\n    }, options || {}));\n    pswp = instance;\n    instance.on('contentActivate', ({\n      content: slideContent\n    }) => {\n      if (slideContent.data.content) {\n        setContentPortal(createPortal(slideContent.data.content, slideContent.element));\n      } else {\n        setContentPortal(null);\n      }\n    });\n    instance.on('close', () => {\n      setContentPortal(null);\n    });\n    if (withDownloadButton) {\n      instance.on('uiRegister', () => {\n        var _a;\n        (_a = instance.ui) === null || _a === void 0 ? void 0 : _a.registerElement({\n          name: 'download-button',\n          ariaLabel: 'Download',\n          order: 8,\n          isButton: true,\n          tagName: 'a',\n          appendTo: 'bar',\n          html: {\n            isCustomSVG: true,\n            inner: '<path d=\"M20.5 14.3 17.1 18V10h-2.2v7.9l-3.4-3.6L10 16l6 6.1 6-6.1ZM23 23H9v2h14Z\" id=\"pswp__icn-download\"/>',\n            outlineID: 'pswp__icn-download'\n          },\n          // can't test onInit callback correctly\n          onInit: /* istanbul ignore next */(el, pswpInstance) => {\n            el.setAttribute('download', '');\n            el.setAttribute('target', '_blank');\n            el.setAttribute('rel', 'noopener');\n            instance.on('change', () => {\n              var _a;\n              if (!((_a = pswpInstance.currSlide) === null || _a === void 0 ? void 0 : _a.data.src)) {\n                return;\n              }\n              const downloadButton = el;\n              downloadButton.href = pswpInstance.currSlide.data.src;\n            });\n          }\n        });\n      });\n    }\n    if (withCaption) {\n      instance.on('uiRegister', () => {\n        var _a;\n        (_a = instance.ui) === null || _a === void 0 ? void 0 : _a.registerElement({\n          name: 'default-caption',\n          order: 9,\n          isButton: false,\n          appendTo: 'root',\n          // can't test onInit callback correctly\n          onInit: /* istanbul ignore next */(el, pswpInstance) => {\n            /* eslint-disable no-param-reassign */\n            el.style.position = 'absolute';\n            el.style.bottom = '15px';\n            el.style.left = '0';\n            el.style.right = '0';\n            el.style.padding = '0 20px';\n            el.style.color = 'var(--pswp-icon-color)';\n            el.style.textAlign = 'center';\n            el.style.fontSize = '14px';\n            el.style.lineHeight = '1.5';\n            el.style.textShadow = '1px 1px 3px var(--pswp-icon-color-secondary)';\n            /* eslint-enable no-param-reassign */\n            instance.on('change', () => {\n              if (!pswpInstance.currSlide) {\n                return;\n              }\n              const {\n                caption,\n                alt\n              } = pswpInstance.currSlide.data;\n              // eslint-disable-next-line no-param-reassign\n              el.innerHTML = caption || alt || '';\n            });\n          }\n        });\n      });\n    }\n    if (Array.isArray(uiElements)) {\n      uiElements.forEach(uiElement => {\n        instance.on('uiRegister', () => {\n          var _a;\n          (_a = instance.ui) === null || _a === void 0 ? void 0 : _a.registerElement(uiElement);\n        });\n      });\n    }\n    if (typeof plugins === 'function') {\n      plugins(new PhotoSwipeLightboxStub(instance));\n    }\n    if (typeof onBeforeOpen === 'function') {\n      onBeforeOpen(instance);\n    }\n    const getHistoryState = () => {\n      return {\n        gallery: {\n          galleryUID\n        }\n      };\n    };\n    instance.on('beforeOpen', () => {\n      var _a;\n      if (galleryUID === undefined) {\n        return;\n      }\n      const hashIncludesGidAndPid = hashIncludesNavigationQueryParams(getHashValue());\n      // was openned by react-photoswipe-gallery's open() method call (click on thumbnail, for example)\n      // we need to create new history record to store hash navigation state\n      if (!hashIncludesGidAndPid) {\n        window.history.pushState(getHistoryState(), document.title);\n        return;\n      }\n      const hasGalleryStateInHistory = Boolean((_a = window.history.state) === null || _a === void 0 ? void 0 : _a.gallery);\n      // was openned by history.forward()\n      // we do not need to create new history record for hash navigation\n      // because we already have one\n      if (hasGalleryStateInHistory) {\n        return;\n      }\n      // was openned by link with gid and pid\n      const baseUrl = getBaseUrl();\n      const currentHash = getHashValue();\n      const hashWithoutGidAndPid = getHashWithoutGidAndPid(currentHash);\n      const urlWithoutOpenedSlide = `${baseUrl}${hashWithoutGidAndPid ? `#${hashWithoutGidAndPid}` : ''}`;\n      const urlWithOpenedSlide = `${baseUrl}#${currentHash}`;\n      // firstly, we need to modify current history record - set url without gid and pid\n      // we will return to this state after photoswipe closing\n      window.history.replaceState(window.history.state, document.title, urlWithoutOpenedSlide);\n      // then we need to create new history record to store hash navigation state\n      window.history.pushState(getHistoryState(), document.title, urlWithOpenedSlide);\n    });\n    instance.on('change', () => {\n      var _a;\n      if (galleryUID === undefined) {\n        return;\n      }\n      const pid = ((_a = instance.currSlide) === null || _a === void 0 ? void 0 : _a.data.pid) || instance.currIndex + 1;\n      const baseUrl = getBaseUrl();\n      const baseHash = getHashWithoutGidAndPid(getHashValue());\n      const gidAndPidHash = objectToHash({\n        gid: galleryUID,\n        pid\n      });\n      const urlWithOpenedSlide = `${baseUrl}#${baseHash}&${gidAndPidHash}`;\n      // updates in current history record hash value with actual pid\n      window.history.replaceState(getHistoryState(), document.title, urlWithOpenedSlide);\n    });\n    const closeGalleryOnHistoryPopState = () => {\n      if (galleryUID === undefined) {\n        return;\n      }\n      if (pswp !== null) {\n        pswp.close();\n      }\n    };\n    window.addEventListener('popstate', closeGalleryOnHistoryPopState);\n    instance.on('destroy', () => {\n      if (galleryUID !== undefined) {\n        window.removeEventListener('popstate', closeGalleryOnHistoryPopState);\n        // if hash includes gid and pid => this destroy was called with ordinary instance.close() call\n        // if not => destroy was called by history.back (browser's back button) => history has been already returned to previous state\n        if (hashIncludesNavigationQueryParams(getHashValue())) {\n          window.history.back();\n        }\n      }\n      pswp = null;\n    });\n    instance.init();\n    if (typeof onOpen === 'function') {\n      onOpen(instance);\n    }\n  }, [options, plugins, uiElements, galleryUID, onBeforeOpen, onOpen, withCaption, withDownloadButton]);\n  useEffect(() => {\n    return () => {\n      if (pswp) {\n        pswp.close();\n      }\n    };\n  }, []);\n  const openGalleryBasedOnUrlHash = useCallback(() => {\n    if (galleryUID === undefined) {\n      return;\n    }\n    if (pswp !== null) {\n      return;\n    }\n    const hash = getHashValue();\n    if (hash.length < 5) {\n      return;\n    }\n    const params = hashToObject(hash);\n    const {\n      pid,\n      gid\n    } = params;\n    if (!pid || !gid) {\n      return;\n    }\n    if (items.current.size === 0) {\n      // no items currently, save PID from hash for future use\n      openWhenReadyPid.current = pid;\n      return;\n    }\n    if (pid && gid === String(galleryUID)) {\n      open(null, pid);\n    }\n  }, [open, galleryUID]);\n  useEffect(() => {\n    openGalleryBasedOnUrlHash();\n    // needed for case when gallery was firstly opened, then was closed and user clicked on browser's forward button\n    window.addEventListener('popstate', openGalleryBasedOnUrlHash);\n    return () => {\n      window.removeEventListener('popstate', openGalleryBasedOnUrlHash);\n    };\n  }, [openGalleryBasedOnUrlHash]);\n  const remove = useCallback(ref => {\n    items.current.delete(ref);\n  }, []);\n  const set = useCallback((ref, data) => {\n    items.current.set(ref, data);\n    if (openWhenReadyPid.current === null) {\n      return;\n    }\n    const {\n      id\n    } = data;\n    if (id === openWhenReadyPid.current) {\n      // user provided `id` prop of Item component\n      open(ref);\n      openWhenReadyPid.current = null;\n      return;\n    }\n    if (!id) {\n      // in this case we using index of item as PID\n      const index = parseInt(openWhenReadyPid.current, 10) - 1;\n      const refToOpen = Array.from(items.current.keys())[index];\n      if (refToOpen) {\n        open(refToOpen);\n        openWhenReadyPid.current = null;\n      }\n    }\n  }, [open]);\n  const isRefRegistered = useCallback(ref => {\n    return items.current.has(ref);\n  }, []);\n  const openAt = useCallback(index => {\n    open(null, null, index);\n  }, [open]);\n  const contextValue = useMemo(() => ({\n    remove,\n    set,\n    handleClick: open,\n    open: openAt,\n    isRefRegistered\n  }), [remove, set, open, openAt, isRefRegistered]);\n  return React.createElement(Context.Provider, {\n    value: contextValue\n  }, children, contentPortal);\n};\nGallery.propTypes = {\n  children: PropTypes.any,\n  options: PropTypes.object,\n  plugins: PropTypes.func,\n  uiElements: PropTypes.array,\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  onBeforeOpen: PropTypes.func,\n  onOpen: PropTypes.func,\n  withCaption: PropTypes.bool,\n  withDownloadButton: PropTypes.bool\n};"],"mappings":"AAAA,IAAIA,MAAM,GAAG,IAAI,IAAI,IAAI,CAACA,MAAM,IAAI,UAAUC,CAAC,EAAEC,CAAC,EAAE;EAClD,IAAIC,CAAC,GAAG,CAAC,CAAC;EACV,KAAK,IAAIC,CAAC,IAAIH,CAAC,EAAE,IAAII,MAAM,CAACC,SAAS,CAACC,cAAc,CAACC,IAAI,CAACP,CAAC,EAAEG,CAAC,CAAC,IAAIF,CAAC,CAACO,OAAO,CAACL,CAAC,CAAC,GAAG,CAAC,EAAED,CAAC,CAACC,CAAC,CAAC,GAAGH,CAAC,CAACG,CAAC,CAAC;EAChG,IAAIH,CAAC,IAAI,IAAI,IAAI,OAAOI,MAAM,CAACK,qBAAqB,KAAK,UAAU,EAAE,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEP,CAAC,GAAGC,MAAM,CAACK,qBAAqB,CAACT,CAAC,CAAC,EAAEU,CAAC,GAAGP,CAAC,CAACQ,MAAM,EAAED,CAAC,EAAE,EAAE;IAC3I,IAAIT,CAAC,CAACO,OAAO,CAACL,CAAC,CAACO,CAAC,CAAC,CAAC,GAAG,CAAC,IAAIN,MAAM,CAACC,SAAS,CAACO,oBAAoB,CAACL,IAAI,CAACP,CAAC,EAAEG,CAAC,CAACO,CAAC,CAAC,CAAC,EAAER,CAAC,CAACC,CAAC,CAACO,CAAC,CAAC,CAAC,GAAGV,CAAC,CAACG,CAAC,CAACO,CAAC,CAAC,CAAC;EACnG;EACA,OAAOR,CAAC;AACV,CAAC;AACD,OAAOW,UAAU,MAAM,YAAY;AACnC,OAAOC,KAAK,IAAIC,MAAM,EAAEC,WAAW,EAAEC,SAAS,EAAEC,OAAO,EAAEC,QAAQ,QAAQ,OAAO;AAChF,SAASC,YAAY,QAAQ,WAAW;AACxC,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAOC,SAAS,MAAM,yBAAyB;AAC/C,OAAOC,YAAY,MAAM,6BAA6B;AACtD,OAAOC,YAAY,MAAM,6BAA6B;AACtD,OAAOC,uBAAuB,MAAM,2CAA2C;AAC/E,OAAOC,YAAY,MAAM,6BAA6B;AACtD,OAAOC,UAAU,MAAM,2BAA2B;AAClD,OAAOC,iCAAiC,MAAM,oDAAoD;AAClG,OAAOC,0BAA0B,MAAM,6CAA6C;AACpF,OAAOC,eAAe,MAAM,gCAAgC;AAC5D,OAAOC,qBAAqB,MAAM,wCAAwC;AAC1E,SAASC,OAAO,QAAQ,cAAc;AACtC,OAAOC,sBAAsB,MAAM,oBAAoB;AACvD,SAASC,UAAU,QAAQ,mBAAmB;AAC9C;AACA;AACA;AACA;AACA;AACA,IAAIC,IAAI,GAAG,IAAI;AACf;AACA;AACA;AACA,OAAO,MAAMC,OAAO,GAAGC,IAAA,IAUjB;EAAA,IAVkB;IACtBC,QAAQ;IACRC,OAAO;IACPC,OAAO;IACPC,UAAU;IACVC,EAAE,EAAEC,UAAU;IACdC,YAAY;IACZC,MAAM;IACNC,WAAW;IACXC;EACF,CAAC,GAAAV,IAAA;EACC,MAAM,CAACW,aAAa,EAAEC,gBAAgB,CAAC,GAAG9B,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM+B,KAAK,GAAGnC,MAAM,CAAC,IAAIoC,GAAG,CAAC,CAAC,CAAC;EAC/B;AACF;AACA;AACA;EACE,MAAMC,gBAAgB,GAAGrC,MAAM,CAAC,IAAI,CAAC;EACrC,MAAMsC,IAAI,GAAGrC,WAAW,CAAC,CAACsC,SAAS,EAAEC,QAAQ,EAAEC,SAAS,EAAEvD,CAAC,KAAK;IAC9D;IACA;IACA,IAAIkC,IAAI,EAAE;MACR;IACF;IACA,MAAMsB,OAAO,GAAGC,KAAK,CAACC,IAAI,CAACT,KAAK,CAACU,OAAO,CAAC;IACzC,IAAI,OAAOJ,SAAS,KAAK,QAAQ,KAAKC,OAAO,CAACD,SAAS,CAAC,KAAKK,SAAS,IAAI,CAAC9B,qBAAqB,CAAC0B,OAAO,CAACD,SAAS,CAAC,CAAC,CAAC,EAAE;MACrH,MAAM,IAAItB,UAAU,4BAAA4B,MAAA,CAA4BN,SAAS,CAAE,CAAC;IAC9D;IACA,MAAM;MACJO,MAAM;MACNC;IACF,CAAC,GAAGP,OAAO,CAACQ,GAAG,CAACnC,eAAe,CAAC,CAACoC,IAAI,CAAC,CAAAC,KAAA,EAAAC,KAAA;MAAA,IAAC,CAAC;QACtCR,OAAO,EAAES;MACX,CAAC,CAAC,GAAAF,KAAA;MAAA,IAAE,CAAC;QACHP,OAAO,EAAEU;MACX,CAAC,CAAC,GAAAF,KAAA;MAAA,OAAK9C,SAAS,CAAC+C,CAAC,EAAEC,CAAC,CAAC;IAAA,EAAC,CAACC,MAAM,CAAC,CAACC,GAAG,EAAEC,KAAK,EAAE/D,CAAC,KAAK;MAChD,MAAM,CAACgE,GAAG,EAAEC,EAAE,CAAC,GAAGF,KAAK;QACrB;UACEG,KAAK;UACLC,MAAM;UACNC,QAAQ;UACRC,cAAc;UACdC,SAAS;UACTC,OAAO;UACPC,OAAO;UACPxC,EAAE,EAAEyC;QACN,CAAC,GAAGR,EAAE;QACNS,IAAI,GAAGrF,MAAM,CAAC4E,EAAE,EAAE,CAAC,OAAO,EAAE,QAAQ,EAAE,UAAU,EAAE,gBAAgB,EAAE,WAAW,EAAE,SAAS,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;MAC/G,IAAIrB,SAAS,KAAKoB,GAAG,IAAIS,GAAG,KAAKtB,SAAS,IAAIwB,MAAM,CAACF,GAAG,CAAC,KAAK5B,QAAQ,EAAE;QACtEiB,GAAG,CAACR,KAAK,GAAGtD,CAAC;MACf;MACA8D,GAAG,CAACT,MAAM,CAACuB,IAAI,CAAClF,MAAM,CAACmF,MAAM,CAACnF,MAAM,CAACmF,MAAM,CAACnF,MAAM,CAACmF,MAAM,CAAC;QACxDC,CAAC,EAAEC,MAAM,CAACb,KAAK,CAAC;QAChBc,CAAC,EAAED,MAAM,CAACZ,MAAM,CAAC;QACjBc,GAAG,EAAEb,QAAQ;QACbc,MAAM,EAAEb,cAAc;QACtBc,IAAI,EAAEb,SAAS;QACfc,OAAO,EAAEpB,GAAG,CAACd,OAAO;QACpBmC,YAAY,EAAEd,OAAO;QACrBC;MACF,CAAC,EAAEA,OAAO,KAAKrB,SAAS,GAAG;QACzBmC,IAAI,EAAE;MACR,CAAC,GAAG,CAAC,CAAC,CAAC,EAAEb,GAAG,KAAKtB,SAAS,GAAG;QAC3BsB;MACF,CAAC,GAAG,CAAC,CAAC,CAAC,EAAEC,IAAI,CAAC,CAAC;MACf,OAAOZ,GAAG;IACZ,CAAC,EAAE;MACDT,MAAM,EAAE,EAAE;MACVC,KAAK,EAAER,SAAS,IAAI;IACtB,CAAC,CAAC;IACF,MAAMyC,YAAY,GAAGhG,CAAC,IAAIA,CAAC,CAACiG,OAAO,KAAKrC,SAAS,IAAI5D,CAAC,CAACkG,OAAO,KAAKtC,SAAS,GAAG;MAC7EuC,CAAC,EAAEnG,CAAC,CAACiG,OAAO;MACZG,CAAC,EAAEpG,CAAC,CAACkG;IACP,CAAC,GAAG,IAAI;IACR,MAAMG,QAAQ,GAAG,IAAIzF,UAAU,CAACT,MAAM,CAACmF,MAAM,CAAC;MAC5CgB,UAAU,EAAExC,MAAM;MAClBC,KAAK,EAAEnC,0BAA0B,CAACmC,KAAK,EAAET,QAAQ,CAAC;MAClDiD,iBAAiB,EAAEP;IACrB,CAAC,EAAE1D,OAAO,IAAI,CAAC,CAAC,CAAC,CAAC;IAClBJ,IAAI,GAAGmE,QAAQ;IACfA,QAAQ,CAACG,EAAE,CAAC,iBAAiB,EAAEC,KAAA,IAEzB;MAAA,IAF0B;QAC9BxB,OAAO,EAAEyB;MACX,CAAC,GAAAD,KAAA;MACC,IAAIC,YAAY,CAACC,IAAI,CAAC1B,OAAO,EAAE;QAC7BjC,gBAAgB,CAAC7B,YAAY,CAACuF,YAAY,CAACC,IAAI,CAAC1B,OAAO,EAAEyB,YAAY,CAACb,OAAO,CAAC,CAAC;MACjF,CAAC,MAAM;QACL7C,gBAAgB,CAAC,IAAI,CAAC;MACxB;IACF,CAAC,CAAC;IACFqD,QAAQ,CAACG,EAAE,CAAC,OAAO,EAAE,MAAM;MACzBxD,gBAAgB,CAAC,IAAI,CAAC;IACxB,CAAC,CAAC;IACF,IAAIF,kBAAkB,EAAE;MACtBuD,QAAQ,CAACG,EAAE,CAAC,YAAY,EAAE,MAAM;QAC9B,IAAI9B,EAAE;QACN,CAACA,EAAE,GAAG2B,QAAQ,CAACO,EAAE,MAAM,IAAI,IAAIlC,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACmC,eAAe,CAAC;UACzEC,IAAI,EAAE,iBAAiB;UACvBC,SAAS,EAAE,UAAU;UACrBC,KAAK,EAAE,CAAC;UACRC,QAAQ,EAAE,IAAI;UACdC,OAAO,EAAE,GAAG;UACZC,QAAQ,EAAE,KAAK;UACfC,IAAI,EAAE;YACJC,WAAW,EAAE,IAAI;YACjBC,KAAK,EAAE,8GAA8G;YACrHC,SAAS,EAAE;UACb,CAAC;UACD;UACAC,MAAM,EAAE,0BAA0BA,CAACC,EAAE,EAAEC,YAAY,KAAK;YACtDD,EAAE,CAACE,YAAY,CAAC,UAAU,EAAE,EAAE,CAAC;YAC/BF,EAAE,CAACE,YAAY,CAAC,QAAQ,EAAE,QAAQ,CAAC;YACnCF,EAAE,CAACE,YAAY,CAAC,KAAK,EAAE,UAAU,CAAC;YAClCtB,QAAQ,CAACG,EAAE,CAAC,QAAQ,EAAE,MAAM;cAC1B,IAAI9B,EAAE;cACN,IAAI,EAAE,CAACA,EAAE,GAAGgD,YAAY,CAACE,SAAS,MAAM,IAAI,IAAIlD,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACiC,IAAI,CAACjB,GAAG,CAAC,EAAE;gBACrF;cACF;cACA,MAAMmC,cAAc,GAAGJ,EAAE;cACzBI,cAAc,CAACC,IAAI,GAAGJ,YAAY,CAACE,SAAS,CAACjB,IAAI,CAACjB,GAAG;YACvD,CAAC,CAAC;UACJ;QACF,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ;IACA,IAAI7C,WAAW,EAAE;MACfwD,QAAQ,CAACG,EAAE,CAAC,YAAY,EAAE,MAAM;QAC9B,IAAI9B,EAAE;QACN,CAACA,EAAE,GAAG2B,QAAQ,CAACO,EAAE,MAAM,IAAI,IAAIlC,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACmC,eAAe,CAAC;UACzEC,IAAI,EAAE,iBAAiB;UACvBE,KAAK,EAAE,CAAC;UACRC,QAAQ,EAAE,KAAK;UACfE,QAAQ,EAAE,MAAM;UAChB;UACAK,MAAM,EAAE,0BAA0BA,CAACC,EAAE,EAAEC,YAAY,KAAK;YACtD;YACAD,EAAE,CAACM,KAAK,CAACC,QAAQ,GAAG,UAAU;YAC9BP,EAAE,CAACM,KAAK,CAACE,MAAM,GAAG,MAAM;YACxBR,EAAE,CAACM,KAAK,CAACG,IAAI,GAAG,GAAG;YACnBT,EAAE,CAACM,KAAK,CAACI,KAAK,GAAG,GAAG;YACpBV,EAAE,CAACM,KAAK,CAACK,OAAO,GAAG,QAAQ;YAC3BX,EAAE,CAACM,KAAK,CAACM,KAAK,GAAG,wBAAwB;YACzCZ,EAAE,CAACM,KAAK,CAACO,SAAS,GAAG,QAAQ;YAC7Bb,EAAE,CAACM,KAAK,CAACQ,QAAQ,GAAG,MAAM;YAC1Bd,EAAE,CAACM,KAAK,CAACS,UAAU,GAAG,KAAK;YAC3Bf,EAAE,CAACM,KAAK,CAACU,UAAU,GAAG,8CAA8C;YACpE;YACApC,QAAQ,CAACG,EAAE,CAAC,QAAQ,EAAE,MAAM;cAC1B,IAAI,CAACkB,YAAY,CAACE,SAAS,EAAE;gBAC3B;cACF;cACA,MAAM;gBACJc,OAAO;gBACPC;cACF,CAAC,GAAGjB,YAAY,CAACE,SAAS,CAACjB,IAAI;cAC/B;cACAc,EAAE,CAACmB,SAAS,GAAGF,OAAO,IAAIC,GAAG,IAAI,EAAE;YACrC,CAAC,CAAC;UACJ;QACF,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ;IACA,IAAIlF,KAAK,CAACoF,OAAO,CAACrG,UAAU,CAAC,EAAE;MAC7BA,UAAU,CAACsG,OAAO,CAACC,SAAS,IAAI;QAC9B1C,QAAQ,CAACG,EAAE,CAAC,YAAY,EAAE,MAAM;UAC9B,IAAI9B,EAAE;UACN,CAACA,EAAE,GAAG2B,QAAQ,CAACO,EAAE,MAAM,IAAI,IAAIlC,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACmC,eAAe,CAACkC,SAAS,CAAC;QACvF,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ;IACA,IAAI,OAAOxG,OAAO,KAAK,UAAU,EAAE;MACjCA,OAAO,CAAC,IAAIP,sBAAsB,CAACqE,QAAQ,CAAC,CAAC;IAC/C;IACA,IAAI,OAAO1D,YAAY,KAAK,UAAU,EAAE;MACtCA,YAAY,CAAC0D,QAAQ,CAAC;IACxB;IACA,MAAM2C,eAAe,GAAGA,CAAA,KAAM;MAC5B,OAAO;QACLC,OAAO,EAAE;UACPvG;QACF;MACF,CAAC;IACH,CAAC;IACD2D,QAAQ,CAACG,EAAE,CAAC,YAAY,EAAE,MAAM;MAC9B,IAAI9B,EAAE;MACN,IAAIhC,UAAU,KAAKkB,SAAS,EAAE;QAC5B;MACF;MACA,MAAMsF,qBAAqB,GAAGvH,iCAAiC,CAACF,YAAY,CAAC,CAAC,CAAC;MAC/E;MACA;MACA,IAAI,CAACyH,qBAAqB,EAAE;QAC1BC,MAAM,CAACC,OAAO,CAACC,SAAS,CAACL,eAAe,CAAC,CAAC,EAAEM,QAAQ,CAACC,KAAK,CAAC;QAC3D;MACF;MACA,MAAMC,wBAAwB,GAAGC,OAAO,CAAC,CAAC/E,EAAE,GAAGyE,MAAM,CAACC,OAAO,CAACM,KAAK,MAAM,IAAI,IAAIhF,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACuE,OAAO,CAAC;MACrH;MACA;MACA;MACA,IAAIO,wBAAwB,EAAE;QAC5B;MACF;MACA;MACA,MAAMG,OAAO,GAAGjI,UAAU,CAAC,CAAC;MAC5B,MAAMkI,WAAW,GAAGnI,YAAY,CAAC,CAAC;MAClC,MAAMoI,oBAAoB,GAAGrI,uBAAuB,CAACoI,WAAW,CAAC;MACjE,MAAME,qBAAqB,MAAAjG,MAAA,CAAM8F,OAAO,EAAA9F,MAAA,CAAGgG,oBAAoB,OAAAhG,MAAA,CAAOgG,oBAAoB,IAAK,EAAE,CAAE;MACnG,MAAME,kBAAkB,MAAAlG,MAAA,CAAM8F,OAAO,OAAA9F,MAAA,CAAI+F,WAAW,CAAE;MACtD;MACA;MACAT,MAAM,CAACC,OAAO,CAACY,YAAY,CAACb,MAAM,CAACC,OAAO,CAACM,KAAK,EAAEJ,QAAQ,CAACC,KAAK,EAAEO,qBAAqB,CAAC;MACxF;MACAX,MAAM,CAACC,OAAO,CAACC,SAAS,CAACL,eAAe,CAAC,CAAC,EAAEM,QAAQ,CAACC,KAAK,EAAEQ,kBAAkB,CAAC;IACjF,CAAC,CAAC;IACF1D,QAAQ,CAACG,EAAE,CAAC,QAAQ,EAAE,MAAM;MAC1B,IAAI9B,EAAE;MACN,IAAIhC,UAAU,KAAKkB,SAAS,EAAE;QAC5B;MACF;MACA,MAAMsB,GAAG,GAAG,CAAC,CAACR,EAAE,GAAG2B,QAAQ,CAACuB,SAAS,MAAM,IAAI,IAAIlD,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACiC,IAAI,CAACzB,GAAG,KAAKmB,QAAQ,CAAC4D,SAAS,GAAG,CAAC;MAClH,MAAMN,OAAO,GAAGjI,UAAU,CAAC,CAAC;MAC5B,MAAMwI,QAAQ,GAAG1I,uBAAuB,CAACC,YAAY,CAAC,CAAC,CAAC;MACxD,MAAM0I,aAAa,GAAG7I,YAAY,CAAC;QACjC8I,GAAG,EAAE1H,UAAU;QACfwC;MACF,CAAC,CAAC;MACF,MAAM6E,kBAAkB,MAAAlG,MAAA,CAAM8F,OAAO,OAAA9F,MAAA,CAAIqG,QAAQ,OAAArG,MAAA,CAAIsG,aAAa,CAAE;MACpE;MACAhB,MAAM,CAACC,OAAO,CAACY,YAAY,CAAChB,eAAe,CAAC,CAAC,EAAEM,QAAQ,CAACC,KAAK,EAAEQ,kBAAkB,CAAC;IACpF,CAAC,CAAC;IACF,MAAMM,6BAA6B,GAAGA,CAAA,KAAM;MAC1C,IAAI3H,UAAU,KAAKkB,SAAS,EAAE;QAC5B;MACF;MACA,IAAI1B,IAAI,KAAK,IAAI,EAAE;QACjBA,IAAI,CAACoI,KAAK,CAAC,CAAC;MACd;IACF,CAAC;IACDnB,MAAM,CAACoB,gBAAgB,CAAC,UAAU,EAAEF,6BAA6B,CAAC;IAClEhE,QAAQ,CAACG,EAAE,CAAC,SAAS,EAAE,MAAM;MAC3B,IAAI9D,UAAU,KAAKkB,SAAS,EAAE;QAC5BuF,MAAM,CAACqB,mBAAmB,CAAC,UAAU,EAAEH,6BAA6B,CAAC;QACrE;QACA;QACA,IAAI1I,iCAAiC,CAACF,YAAY,CAAC,CAAC,CAAC,EAAE;UACrD0H,MAAM,CAACC,OAAO,CAACqB,IAAI,CAAC,CAAC;QACvB;MACF;MACAvI,IAAI,GAAG,IAAI;IACb,CAAC,CAAC;IACFmE,QAAQ,CAACqE,IAAI,CAAC,CAAC;IACf,IAAI,OAAO9H,MAAM,KAAK,UAAU,EAAE;MAChCA,MAAM,CAACyD,QAAQ,CAAC;IAClB;EACF,CAAC,EAAE,CAAC/D,OAAO,EAAEC,OAAO,EAAEC,UAAU,EAAEE,UAAU,EAAEC,YAAY,EAAEC,MAAM,EAAEC,WAAW,EAAEC,kBAAkB,CAAC,CAAC;EACrG9B,SAAS,CAAC,MAAM;IACd,OAAO,MAAM;MACX,IAAIkB,IAAI,EAAE;QACRA,IAAI,CAACoI,KAAK,CAAC,CAAC;MACd;IACF,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EACN,MAAMK,yBAAyB,GAAG5J,WAAW,CAAC,MAAM;IAClD,IAAI2B,UAAU,KAAKkB,SAAS,EAAE;MAC5B;IACF;IACA,IAAI1B,IAAI,KAAK,IAAI,EAAE;MACjB;IACF;IACA,MAAM0I,IAAI,GAAGnJ,YAAY,CAAC,CAAC;IAC3B,IAAImJ,IAAI,CAAClK,MAAM,GAAG,CAAC,EAAE;MACnB;IACF;IACA,MAAMmK,MAAM,GAAGtJ,YAAY,CAACqJ,IAAI,CAAC;IACjC,MAAM;MACJ1F,GAAG;MACHkF;IACF,CAAC,GAAGS,MAAM;IACV,IAAI,CAAC3F,GAAG,IAAI,CAACkF,GAAG,EAAE;MAChB;IACF;IACA,IAAInH,KAAK,CAACU,OAAO,CAACmH,IAAI,KAAK,CAAC,EAAE;MAC5B;MACA3H,gBAAgB,CAACQ,OAAO,GAAGuB,GAAG;MAC9B;IACF;IACA,IAAIA,GAAG,IAAIkF,GAAG,KAAKhF,MAAM,CAAC1C,UAAU,CAAC,EAAE;MACrCU,IAAI,CAAC,IAAI,EAAE8B,GAAG,CAAC;IACjB;EACF,CAAC,EAAE,CAAC9B,IAAI,EAAEV,UAAU,CAAC,CAAC;EACtB1B,SAAS,CAAC,MAAM;IACd2J,yBAAyB,CAAC,CAAC;IAC3B;IACAxB,MAAM,CAACoB,gBAAgB,CAAC,UAAU,EAAEI,yBAAyB,CAAC;IAC9D,OAAO,MAAM;MACXxB,MAAM,CAACqB,mBAAmB,CAAC,UAAU,EAAEG,yBAAyB,CAAC;IACnE,CAAC;EACH,CAAC,EAAE,CAACA,yBAAyB,CAAC,CAAC;EAC/B,MAAMI,MAAM,GAAGhK,WAAW,CAAC0D,GAAG,IAAI;IAChCxB,KAAK,CAACU,OAAO,CAACqH,MAAM,CAACvG,GAAG,CAAC;EAC3B,CAAC,EAAE,EAAE,CAAC;EACN,MAAMwG,GAAG,GAAGlK,WAAW,CAAC,CAAC0D,GAAG,EAAEkC,IAAI,KAAK;IACrC1D,KAAK,CAACU,OAAO,CAACsH,GAAG,CAACxG,GAAG,EAAEkC,IAAI,CAAC;IAC5B,IAAIxD,gBAAgB,CAACQ,OAAO,KAAK,IAAI,EAAE;MACrC;IACF;IACA,MAAM;MACJlB;IACF,CAAC,GAAGkE,IAAI;IACR,IAAIlE,EAAE,KAAKU,gBAAgB,CAACQ,OAAO,EAAE;MACnC;MACAP,IAAI,CAACqB,GAAG,CAAC;MACTtB,gBAAgB,CAACQ,OAAO,GAAG,IAAI;MAC/B;IACF;IACA,IAAI,CAAClB,EAAE,EAAE;MACP;MACA,MAAMsB,KAAK,GAAGmH,QAAQ,CAAC/H,gBAAgB,CAACQ,OAAO,EAAE,EAAE,CAAC,GAAG,CAAC;MACxD,MAAMwH,SAAS,GAAG1H,KAAK,CAACC,IAAI,CAACT,KAAK,CAACU,OAAO,CAACyH,IAAI,CAAC,CAAC,CAAC,CAACrH,KAAK,CAAC;MACzD,IAAIoH,SAAS,EAAE;QACb/H,IAAI,CAAC+H,SAAS,CAAC;QACfhI,gBAAgB,CAACQ,OAAO,GAAG,IAAI;MACjC;IACF;EACF,CAAC,EAAE,CAACP,IAAI,CAAC,CAAC;EACV,MAAMiI,eAAe,GAAGtK,WAAW,CAAC0D,GAAG,IAAI;IACzC,OAAOxB,KAAK,CAACU,OAAO,CAAC2H,GAAG,CAAC7G,GAAG,CAAC;EAC/B,CAAC,EAAE,EAAE,CAAC;EACN,MAAM8G,MAAM,GAAGxK,WAAW,CAACgD,KAAK,IAAI;IAClCX,IAAI,CAAC,IAAI,EAAE,IAAI,EAAEW,KAAK,CAAC;EACzB,CAAC,EAAE,CAACX,IAAI,CAAC,CAAC;EACV,MAAMoI,YAAY,GAAGvK,OAAO,CAAC,OAAO;IAClC8J,MAAM;IACNE,GAAG;IACHQ,WAAW,EAAErI,IAAI;IACjBA,IAAI,EAAEmI,MAAM;IACZF;EACF,CAAC,CAAC,EAAE,CAACN,MAAM,EAAEE,GAAG,EAAE7H,IAAI,EAAEmI,MAAM,EAAEF,eAAe,CAAC,CAAC;EACjD,OAAOxK,KAAK,CAAC6K,aAAa,CAAC3J,OAAO,CAAC4J,QAAQ,EAAE;IAC3CC,KAAK,EAAEJ;EACT,CAAC,EAAEnJ,QAAQ,EAAEU,aAAa,CAAC;AAC7B,CAAC;AACDZ,OAAO,CAAC0J,SAAS,GAAG;EAClBxJ,QAAQ,EAAEjB,SAAS,CAAC0K,GAAG;EACvBxJ,OAAO,EAAElB,SAAS,CAAC2K,MAAM;EACzBxJ,OAAO,EAAEnB,SAAS,CAAC4K,IAAI;EACvBxJ,UAAU,EAAEpB,SAAS,CAAC6K,KAAK;EAC3BxJ,EAAE,EAAErB,SAAS,CAAC8K,SAAS,CAAC,CAAC9K,SAAS,CAAC+K,MAAM,EAAE/K,SAAS,CAACgL,MAAM,CAAC,CAAC;EAC7DzJ,YAAY,EAAEvB,SAAS,CAAC4K,IAAI;EAC5BpJ,MAAM,EAAExB,SAAS,CAAC4K,IAAI;EACtBnJ,WAAW,EAAEzB,SAAS,CAACiL,IAAI;EAC3BvJ,kBAAkB,EAAE1B,SAAS,CAACiL;AAChC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}