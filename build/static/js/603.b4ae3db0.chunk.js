"use strict";(self.webpackChunkdubaimusic=self.webpackChunkdubaimusic||[]).push([[603],{6603:(e,t,a)=>{a.r(t),a.d(t,{default:()=>C});var s=a(5043),l=a(6213),n=a(7977),i=a(726),r=a.n(i),c=a(579);const o=()=>{const[e,t]=(0,s.useState)(""),[a,i]=(0,s.useState)(""),[o,d]=(0,s.useState)(""),[m,u]=(0,s.useState)(""),[h,p]=(0,s.useState)(""),[g,x]=(0,s.useState)(""),[j,b]=(0,s.useState)("No file chosen"),[y,f]=(0,s.useState)([]),[N,v]=(0,s.useState)(!1),[C,S]=(0,s.useState)([]),[w,k]=(0,s.useState)(null),[A,E]=(0,s.useState)([]),[I,F]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{(async()=>{try{const e=await l.A.get("".concat("http://dubaimusic.com:5000","/api/categories"));f(e.data)}catch(e){console.error("Error fetching categories:",e)}})()}),[]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h3",{children:"Add New Artist"}),(0,c.jsxs)("form",{onSubmit:async s=>{s.preventDefault();const n=new FormData;n.append("title",e),n.append("category",a),n.append("speciality",o),n.append("description",m),n.append("videoUrl",h),n.append("audioUrl",g),n.append("image",w),n.append("isPublished",I?"published":"draft"),A.forEach((e=>{n.append("galleryImages",e)}));try{const e=await l.A.post("".concat("http://dubaimusic.com:5000","/api/artists"),n,{headers:{"Content-Type":"multipart/form-data"}});console.log("Artist created:",e.data),v(!0),t(""),i(""),d(""),u(""),p(""),x(""),k(null),E([]),b("No file chosen"),S([]),F(!1)}catch(r){console.error("Error creating artist:",r)}},className:"mt-4",children:[(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"name",children:"Name"}),(0,c.jsx)("input",{type:"text",className:"form-control",id:"name",value:e,onChange:e=>t(e.target.value),placeholder:"Enter title",required:!0})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"category",children:"Category"}),(0,c.jsxs)("select",{className:"form-control",id:"category",value:a,onChange:e=>i(e.target.value),required:!0,children:[(0,c.jsx)("option",{value:"",children:"Select category"}),y.map((e=>(0,c.jsx)("option",{value:e.name,children:e.name},e._id)))]})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"speciality",children:"Speciality"}),(0,c.jsx)("input",{type:"text",className:"form-control",id:"speciality",value:o,onChange:e=>d(e.target.value),placeholder:"Artist Speciality",required:!0})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"bio",children:"Bio"}),(0,c.jsx)(n.CKEditor,{editor:r(),data:m,onChange:(e,t)=>{const a=t.getData();u(a)},config:{placeholder:"Enter artist bio"}})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"videoUrl",children:"Video URL"}),(0,c.jsx)("input",{type:"text",className:"form-control",id:"videoUrl",value:h,onChange:e=>p(e.target.value),placeholder:"Enter video URL"})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"audioUrl",children:"Audio URL"}),(0,c.jsx)("input",{type:"text",className:"form-control",id:"audioUrl",value:g,onChange:e=>x(e.target.value),placeholder:"Enter audio URL"})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"image",children:"Artist Photo"}),(0,c.jsxs)("div",{className:"custom-file-input-wrapper",children:[(0,c.jsx)("input",{type:"file",className:"form-control-file",id:"image",required:!0,onChange:e=>{const t=e.target.files[0];k(t),b(t?t.name:"No file chosen")}}),(0,c.jsx)("button",{type:"button",className:"btn btn-dark",onClick:()=>document.getElementById("image").click(),children:"Upload Photo"}),(0,c.jsx)("span",{id:"file-name",children:j})]})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"gallery",children:"Artist Gallery"}),(0,c.jsxs)("div",{className:"custom-file-input-wrapper",children:[(0,c.jsx)("input",{type:"file",className:"form-control-file",id:"gallery",multiple:!0,onChange:e=>{const t=Array.from(e.target.files);E(t),S(t.map((e=>e.name)))}}),(0,c.jsx)("button",{type:"button",className:"btn btn-dark",onClick:()=>document.getElementById("gallery").click(),children:"Upload Gallery Images"}),(0,c.jsx)("span",{id:"file-name",children:C.join(", ")||"No files chosen"})]})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Status"}),(0,c.jsxs)("div",{className:"custom-switch",children:[(0,c.jsx)("input",{type:"checkbox",id:"statusSwitch",checked:I,onChange:()=>{F((e=>!e))}}),(0,c.jsx)("label",{className:"slider",htmlFor:"statusSwitch"}),(0,c.jsx)("span",{className:"custom-switch-label",children:I?"Published":"Draft"})]})]}),N&&(0,c.jsxs)("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:["Artist added successfully!",(0,c.jsx)("button",{type:"button",className:"close",onClick:()=>v(!1),children:(0,c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,c.jsx)("button",{type:"submit",className:"btn btn-lg btn-dark mt-5",children:"Add Artist"})]})]})},d=()=>{const[e,t]=(0,s.useState)(""),[a,n]=(0,s.useState)([]),[i,r]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{(async()=>{try{const e=await l.A.get("".concat("http://dubaimusic.com:5000","/api/categories"));n(e.data)}catch(e){console.error("Error fetching categories:",e)}})()}),[]),(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{children:"Add Artist Category"}),(0,c.jsx)("form",{onSubmit:async s=>{s.preventDefault();try{const s=await l.A.post("".concat("http://dubaimusic.com:5000","/api/categories"),{name:e});n([...a,s.data]),r(!0),setTimeout((()=>{r(!1)}),2e3),t("")}catch(i){console.error("Error adding category:",i)}},className:"mt-4",children:(0,c.jsxs)("div",{className:"form-group row",children:[(0,c.jsx)("label",{htmlFor:"categoryName",className:"col-sm-12 col-form-label",children:"Category Name"}),(0,c.jsx)("div",{className:"col-sm-12",children:(0,c.jsx)("input",{type:"text",className:"form-control",id:"categoryName",placeholder:"Enter Category Name",value:e,onChange:e=>t(e.target.value)})}),(0,c.jsxs)("div",{className:"col-sm-12",children:[i&&(0,c.jsx)("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:"Success!"}),(0,c.jsx)("button",{type:"submit",className:"btn btn-dark mt-3",children:"Add Category"})]})]})}),(0,c.jsx)("h3",{className:"mt-5",children:"All Categories"}),(0,c.jsxs)("table",{className:"table",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:"Category Name"}),(0,c.jsx)("th",{children:"Action"})]})}),(0,c.jsx)("tbody",{children:a.map((e=>(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:e.name}),(0,c.jsxs)("td",{children:[(0,c.jsx)("button",{className:"btn btn-sm btn-primary",onClick:()=>(async(e,t)=>{try{await l.A.put("".concat("http://dubaimusic.com:5000","/api/categories/").concat(e),{name:t}),n(a.map((a=>a._id===e?{...a,name:t}:a)))}catch(s){console.error("Error editing category:",s)}})(e._id,prompt("Enter new category name")),children:"Edit"}),(0,c.jsx)("button",{className:"btn btn-sm btn-danger ml-2",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this category?"))try{await l.A.delete("".concat("http://dubaimusic.com:5000","/api/categories/").concat(e)),n(a.filter((t=>t._id!==e)))}catch(t){console.error("Error deleting category:",t)}})(e._id),children:"Delete"})]})]},e._id)))})]})]})},m=e=>{let{artist:t,setEditArtist:a,setShowAlert:i}=e;const[o,d]=(0,s.useState)(t.title),[m,u]=(0,s.useState)(t.category),[h,p]=(0,s.useState)(t.speciality),[g,x]=(0,s.useState)(t.description),[j,b]=(0,s.useState)(t.videoUrl),[y,f]=(0,s.useState)(t.audioUrl),[N,v]=(0,s.useState)(null),[C,S]=(0,s.useState)("No file chosen"),[w,k]=(0,s.useState)([]),[A,E]=(0,s.useState)(t.galleryImages||[]),[I,F]=(0,s.useState)([]),[V,P]=(0,s.useState)(t.status);(0,s.useEffect)((()=>{(async()=>{try{const e=await l.A.get("".concat("http://dubaimusic.com:5000","/api/categories"));k(e.data)}catch(e){console.error("Error fetching categories:",e)}})()}),[]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h3",{children:"Edit Artist"}),(0,c.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const s=t._id,n=new FormData;n.append("title",o),n.append("category",m),n.append("speciality",h),n.append("description",g),n.append("videoUrl",j),n.append("audioUrl",y),N&&n.append("image",N),n.append("isPublished",V),I.forEach((e=>{n.append("galleryImages",e)}));try{const e=await l.A.put("".concat("http://dubaimusic.com:5000","/api/artists/").concat(s),n,{headers:{"Content-Type":"multipart/form-data"}});console.log("Artist updated successfully:",e.data),i({type:"success",message:"Artist updated successfully!"}),a(null)}catch(r){console.error("Error updating artist:",r.response?r.response.data:r.message),i({type:"danger",message:"Failed to update artist."})}},className:"mt-4",children:[(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"name",children:"Name"}),(0,c.jsx)("input",{type:"text",className:"form-control",id:"name",value:o,onChange:e=>d(e.target.value),placeholder:"Enter title",required:!0})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"category",children:"Category"}),(0,c.jsxs)("select",{className:"form-control",id:"category",value:m,onChange:e=>u(e.target.value),required:!0,children:[(0,c.jsx)("option",{value:"",children:"Select category"}),w.map((e=>(0,c.jsx)("option",{value:e.name,children:e.name},e._id)))]})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"speciality",children:"Speciality"}),(0,c.jsx)("input",{type:"text",className:"form-control",id:"speciality",value:h,onChange:e=>p(e.target.value),placeholder:"Artist Speciality",required:!0})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"bio",children:"Bio"}),(0,c.jsx)(n.CKEditor,{editor:r(),data:g,onChange:(e,t)=>{const a=t.getData();x(a)},config:{placeholder:"Enter artist bio"}})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"videoUrl",children:"Video URL"}),(0,c.jsx)("input",{type:"text",className:"form-control",id:"videoUrl",value:j,onChange:e=>b(e.target.value),placeholder:"Enter video URL"})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"audioUrl",children:"Audio URL"}),(0,c.jsx)("input",{type:"text",className:"form-control",id:"audioUrl",value:y,onChange:e=>f(e.target.value),placeholder:"Enter audio URL"})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"image",children:"Artist Photo"}),(0,c.jsxs)("div",{className:"custom-file-input-wrapper",children:[(0,c.jsx)("input",{type:"file",className:"form-control-file",id:"image",onChange:e=>{const t=e.target.files[0];v(t),S(t?t.name:"No file chosen")}}),(0,c.jsx)("button",{type:"button",className:"btn btn-dark",onClick:()=>document.getElementById("image").click(),children:"Upload Photo"}),(0,c.jsx)("span",{id:"file-name",children:C})]})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Gallery Images"}),(0,c.jsx)("div",{children:(0,c.jsx)("input",{type:"file",multiple:!0,className:"form-control",onChange:e=>{F([...I,...Array.from(e.target.files)])}})}),(0,c.jsxs)("div",{className:"gallery-container mt-3",children:[(0,c.jsx)("h5",{children:"Existing Gallery Images"}),(0,c.jsx)("div",{className:"grid-container",children:A.map(((e,a)=>(0,c.jsxs)("div",{className:"gallery-item",children:[(0,c.jsx)("img",{src:"".concat("http://dubaimusic.com:5000","/").concat(e),alt:"Galleryimg ".concat(a+1),className:"img-fluid"}),(0,c.jsx)("button",{type:"button",className:"btn btn-danger btn-sm mt-2",onClick:()=>(async e=>{const a=A[e];try{await l.A.delete("".concat("http://dubaimusic.com:5000","/api/artists/").concat(t._id,"/gallery"),{data:{image:a}}),E(A.filter(((t,a)=>a!==e)))}catch(s){console.error("Error removing gallery image:",s)}})(a),children:"Remove"})]},a)))}),I.length>0&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h5",{className:"mt-4",children:"New Gallery Images"}),(0,c.jsx)("div",{className:"grid-container",children:I.map(((e,t)=>(0,c.jsxs)("div",{className:"gallery-item",children:[(0,c.jsx)("img",{src:URL.createObjectURL(e),alt:"New Galleryimg ".concat(t+1),className:"img-fluid"}),(0,c.jsx)("button",{type:"button",className:"btn btn-danger btn-sm mt-2",onClick:()=>(e=>{F(I.filter(((t,a)=>a!==e)))})(t),children:"Remove"})]},t)))})]})]})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Status"}),(0,c.jsxs)("div",{className:"custom-switch",children:[(0,c.jsx)("input",{type:"checkbox",id:"statusSwitch",checked:"published"===V,onChange:()=>{P((e=>"published"===e?"draft":"published"))}}),(0,c.jsx)("label",{className:"slider",htmlFor:"statusSwitch"}),(0,c.jsxs)("span",{className:"custom-switch-label",children:["published"===V?"Published":"Draft"," "]})]})]}),(0,c.jsx)("button",{type:"submit",className:"btn btn-lg btn-dark mt-5",children:"Update Artist"}),(0,c.jsx)("button",{type:"button",className:"btn btn-secondary ml-3 mt-5",onClick:()=>a(null),children:"Cancel"})]})]})},u=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)(null),[i,r]=(0,s.useState)(!1),[o,d]=(0,s.useState)(""),[u,h]=(0,s.useState)([]);(0,s.useEffect)((()=>{(async()=>{try{const e=await l.A.get("".concat("http://dubaimusic.com:5000","/api/artists"));t(e.data)}catch(e){console.error("Error fetching artists:",e)}})()}),[]),(0,s.useEffect)((()=>{const t=e.filter((e=>{const t=e.title?e.title.toLowerCase():"",a=e.category?e.category.toLowerCase():"",s=e.speciality?e.speciality.toLowerCase():"",l=o.toLowerCase();return t.includes(l)||a.includes(l)||s.includes(l)}));h(t)}),[o,e]);return(0,c.jsxs)("div",{children:[i&&(0,c.jsxs)("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:["Action successful!",(0,c.jsx)("button",{type:"button",className:"close",onClick:()=>r(!1),children:(0,c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),a?(0,c.jsx)(m,{artist:a,setEditArtist:n,setShowAlert:r}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h3",{children:"All Artists"}),(0,c.jsxs)("p",{children:["Total Entries: ",e.length]}),(0,c.jsx)("form",{onSubmit:e=>{e.preventDefault()},className:"mb-3",children:(0,c.jsx)("div",{className:"form-group d-flex",children:(0,c.jsx)("input",{type:"text",className:"form-control",placeholder:"Search by name, category, or speciality",value:o,onChange:e=>{d(e.target.value)}})})}),(0,c.jsxs)("table",{className:"table table-responsive",width:"100%",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:"Name"}),(0,c.jsx)("th",{children:"Status"}),(0,c.jsx)("th",{children:"Category"}),(0,c.jsx)("th",{children:"Speciality"}),(0,c.jsx)("th",{children:"Description"}),(0,c.jsx)("th",{children:"Video URL"}),(0,c.jsx)("th",{children:"Image"}),(0,c.jsx)("th",{children:"Actions"})]})}),(0,c.jsx)("tbody",{children:u.map((a=>(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:a.title}),(0,c.jsx)("td",{children:a.isPublished}),(0,c.jsx)("td",{children:a.category}),(0,c.jsx)("td",{children:a.speciality}),(0,c.jsx)("td",{children:a.description}),(0,c.jsx)("td",{children:a.videoUrl}),(0,c.jsx)("td",{children:(0,c.jsx)("img",{src:"".concat("http://dubaimusic.com:5000","/").concat(a.imageUrl),alt:a.title,style:{width:"50px"}})}),(0,c.jsxs)("td",{children:[(0,c.jsx)("button",{className:"btn btn-warning mr-2",onClick:()=>(e=>{n(e)})(a),children:"Edit"}),(0,c.jsx)("button",{className:"btn btn-danger",onClick:()=>(async a=>{if(window.confirm("Are you sure you want to delete this artist?"))try{await l.A.delete("".concat("http://dubaimusic.com:5000","/api/artists/").concat(a)),t(e.filter((e=>e._id!==a))),r(!0)}catch(s){console.error("Error deleting artist:",s)}})(a._id),children:"Delete"})]})]},a._id)))})]})]})]})},h=()=>{const[e,t]=(0,s.useState)(!1),[a,i]=(0,s.useState)({title:"",description:"",location:"",featuredImage:"",contact:"",category:"Hidden Gems",status:"draft"}),[o,d]=(0,s.useState)([]),m=e=>{const{name:t,value:a}=e.target;i((e=>({...e,[t]:a})))};return(0,c.jsxs)("div",{className:"add-venue",children:[(0,c.jsx)("h3",{children:"Add New Venue"}),(0,c.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const s=new FormData;s.append("title",a.title),s.append("description",a.description),s.append("location",a.location),s.append("category",a.category),s.append("contact",a.contact),s.append("status",a.status),a.featuredImage&&s.append("featuredImage",a.featuredImage);for(let t=0;t<o.length;t++)s.append("gallery",o[t]);try{const e=await l.A.post("".concat("http://dubaimusic.com:5000","/api/venues"),s,{headers:{"Content-Type":"multipart/form-data"}});console.log("Venue saved successfully:",e.data),t(!0),setTimeout((()=>{t(!1)}),3e3)}catch(n){console.error("Error saving venue:",n)}},encType:"multipart/form-data",className:"mt-3",children:[(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Title"}),(0,c.jsx)("input",{type:"text",name:"title",value:a.title,onChange:m,className:"form-control"})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Description"}),(0,c.jsx)(n.CKEditor,{editor:r(),data:a.description,onChange:(e,t)=>{const a=t.getData();i((e=>({...e,description:a})))},required:!0,className:"form-control"})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Contact"}),(0,c.jsx)("input",{type:"text",name:"contact",value:a.contact,onChange:m,className:"form-control"})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Location"}),(0,c.jsx)("input",{type:"text",name:"location",value:a.location,onChange:m,className:"form-control"})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Category"}),(0,c.jsxs)("select",{name:"category",value:a.category,onChange:m,required:!0,className:"form-control",children:[(0,c.jsx)("option",{value:"",disabled:!0,children:"Select category"}),(0,c.jsx)("option",{value:"Coca Cola Arena",children:"Coca Cola Arena"}),(0,c.jsx)("option",{value:"Hot Picks",children:"Hot Picks"}),(0,c.jsx)("option",{value:"Monday",children:"Monday"}),(0,c.jsx)("option",{value:"Tuesday",children:"Tuesday"}),(0,c.jsx)("option",{value:"Wednesday",children:"Wednesday"}),(0,c.jsx)("option",{value:"Thursday",children:"Thursday"}),(0,c.jsx)("option",{value:"Friday",children:"Friday"}),(0,c.jsx)("option",{value:"Saturday",children:"Saturday"}),(0,c.jsx)("option",{value:"Sunday",children:"Sunday"})]})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Featured Image"}),(0,c.jsx)("input",{type:"file",name:"featuredImage",onChange:e=>{i((t=>({...t,featuredImage:e.target.files[0]})))},className:"form-control"})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Gallery"}),(0,c.jsx)("input",{type:"file",name:"gallery",multiple:!0,onChange:e=>{d(e.target.files)},className:"form-control"})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Status"}),(0,c.jsxs)("div",{className:"custom-switch",children:[(0,c.jsx)("input",{type:"checkbox",id:"statusSwitch",checked:"publish"===a.status,onChange:()=>{i((e=>({...e,status:"publish"===e.status?"draft":"publish"})))}}),(0,c.jsx)("label",{className:"slider",htmlFor:"statusSwitch"}),(0,c.jsx)("span",{className:"custom-switch-label",children:"publish"===a.status?"Published":"Draft"})]})]}),e&&(0,c.jsxs)("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:["Venue added successfully!",(0,c.jsx)("button",{type:"button",className:"close",onClick:()=>t(!1),children:(0,c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,c.jsx)("button",{type:"submit",className:"btn btn-lg btn-dark mt-5",children:"Add Venue"})]})]})},p=e=>{let{venue:t,setEditVenue:a,setShowAlert:i}=e;const[o,d]=(0,s.useState)(t.title),[m,u]=(0,s.useState)(t.description),[h,p]=(0,s.useState)(t.location),[g,x]=(0,s.useState)(t.category),[j,b]=(0,s.useState)(t.status),[y,f]=(0,s.useState)(t.contact),[N,v]=(0,s.useState)(null),[C,S]=(0,s.useState)([]),[w,k]=(0,s.useState)("No file chosen"),[A,E]=(0,s.useState)([]);(0,s.useEffect)((()=>{console.log("Initial Venue Status:",t.status),d(t.title),u(t.description),p(t.location),x(t.category),b(t.status),f(t.contact),t.gallery&&S(t.gallery)}),[t]);const I=e=>{const t=e.target.files[0];"featuredImage"===e.target.id?(v(t),k(t?t.name:"No file chosen")):"gallery"===e.target.id&&E([...A,...Array.from(e.target.files)])};return(0,c.jsxs)("div",{className:"edit-venue",children:[(0,c.jsx)("h3",{children:"Edit Venue"}),(0,c.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const s=new FormData;s.append("title",o),s.append("description",m),s.append("location",h),s.append("category",g),s.append("status",j),s.append("contact",y),N&&s.append("featuredImage",N),A.forEach((e=>s.append("galleryImages",e)));try{const e=await l.A.put("".concat("http://dubaimusic.com:5000","/api/venues/").concat(t._id),s,{headers:{"Content-Type":"multipart/form-data"}});console.log("Venue updated:",e.data),i({type:"success",message:"Venue updated successfully!"}),a(null)}catch(n){console.error("Error updating venue:",n.response?n.response.data:n.message),i({type:"danger",message:"Failed to update venue."})}},encType:"multipart/form-data",children:[(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Title"}),(0,c.jsx)("input",{type:"text",name:"title",value:o,onChange:e=>d(e.target.value),className:"form-control"})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Description"}),(0,c.jsx)(n.CKEditor,{editor:r(),data:m,onChange:(e,t)=>{const a=t.getData();u(a)}})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Contact"}),(0,c.jsx)("input",{type:"text",name:"contact",value:y,onChange:e=>f(e.target.value),className:"form-control"})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Location"}),(0,c.jsx)("input",{type:"text",name:"location",value:h,onChange:e=>p(e.target.value),className:"form-control"})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Category"}),(0,c.jsxs)("select",{name:"category",value:g,onChange:e=>x(e.target.value),required:!0,className:"form-control",children:[(0,c.jsx)("option",{value:"",disabled:!0,children:"Select category"}),(0,c.jsx)("option",{value:"Coca Cola Arena",children:"Coca Cola Arena"}),(0,c.jsx)("option",{value:"Hot Picks",children:"Hot Picks"}),(0,c.jsx)("option",{value:"Monday",children:"Monday"}),(0,c.jsx)("option",{value:"Tuesday",children:"Tuesday"}),(0,c.jsx)("option",{value:"Wednesday",children:"Wednesday"}),(0,c.jsx)("option",{value:"Thursday",children:"Thursday"}),(0,c.jsx)("option",{value:"Friday",children:"Friday"}),(0,c.jsx)("option",{value:"Saturday",children:"Saturday"}),(0,c.jsx)("option",{value:"Sunday",children:"Sunday"})]})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Featured Image"}),(0,c.jsxs)("div",{className:"custom-file-input-wrapper",children:[(0,c.jsx)("input",{type:"file",className:"form-control-file",id:"featuredImage",onChange:I}),(0,c.jsx)("button",{type:"button",className:"btn btn-dark",onClick:()=>document.getElementById("featuredImage").click(),children:"Upload Photo"}),(0,c.jsx)("span",{id:"file-name",children:w})]})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Gallery"}),(0,c.jsxs)("div",{className:"custom-file-input-wrapper",children:[(0,c.jsx)("input",{type:"file",className:"form-control-file",id:"gallery",multiple:!0,onChange:I}),(0,c.jsx)("button",{type:"button",className:"btn btn-dark",onClick:()=>document.getElementById("gallery").click(),children:"Upload Photos"})]}),(0,c.jsxs)("div",{className:"mt-2",children:[C.length>0&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h5",{children:"Existing Gallery Images"}),(0,c.jsx)("div",{className:"grid-container",children:C.map(((e,a)=>(0,c.jsxs)("div",{className:"gallery-item",children:[(0,c.jsx)("img",{src:"".concat("http://dubaimusic.com:5000","/").concat(e),alt:"galleryimg ".concat(a+1),className:"img-fluid"}),(0,c.jsx)("button",{type:"button",className:"btn btn-danger btn-sm mt-2",onClick:()=>(async e=>{const a=C[e];try{await l.A.delete("".concat("http://dubaimusic.com:5000","/api/venues/").concat(t._id,"/gallery"),{data:{image:a}}),S(C.filter(((t,a)=>a!==e)))}catch(s){console.error("Error removing gallery image:",s)}})(a),children:"Remove"})]},a)))})]}),A.length>0&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h5",{className:"mt-4",children:"New Gallery Images"}),(0,c.jsx)("div",{className:"grid-container",children:A.map(((e,t)=>(0,c.jsxs)("div",{className:"gallery-item",children:[(0,c.jsx)("img",{src:URL.createObjectURL(e),alt:"New galleryimg ".concat(t+1),className:"img-fluid"}),(0,c.jsx)("button",{type:"button",className:"btn btn-danger btn-sm mt-2",onClick:()=>(e=>{E(A.filter(((t,a)=>a!==e)))})(t),children:"Remove"})]},t)))})]})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Status"}),(0,c.jsxs)("div",{className:"custom-switch",children:[(0,c.jsx)("input",{type:"checkbox",id:"statusCont",checked:"published"===j,onChange:()=>{b((e=>{const t="published"===e?"draft":"published";return console.log("Toggled Status:",t),t}))}}),(0,c.jsx)("label",{className:"slider",htmlFor:"statusCont",children:" "}),(0,c.jsx)("span",{className:"custom-switch-label",children:"published"===j?"Published":"Draft"})]})]})]}),(0,c.jsx)("button",{type:"submit",className:"btn btn-lg btn-dark mt-5",children:"Update Venue"}),(0,c.jsx)("button",{type:"button",className:"btn btn-secondary ml-3 mt-5",onClick:()=>a(null),children:"Cancel"})]})]})},g=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)(""),[i,r]=(0,s.useState)([]),[o,d]=(0,s.useState)(null),[m,u]=(0,s.useState)(!1);(0,s.useEffect)((()=>{(async()=>{try{const e=await l.A.get("".concat("http://dubaimusic.com:5000","/api/venues"));t(e.data)}catch(e){console.error("Error fetching venues:",e)}})()}),[]),(0,s.useEffect)((()=>{const t=e.filter((e=>e.title&&e.title.toLowerCase().includes(a.toLowerCase())||e.category&&e.category.toLowerCase().includes(a.toLowerCase())||e.location&&e.location.toLowerCase().includes(a.toLowerCase())));r(t)}),[a,e]);return(0,c.jsxs)("div",{className:"venues",children:[m&&(0,c.jsxs)("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:["Action successful!",(0,c.jsx)("button",{type:"button",className:"close",onClick:()=>u(!1),children:(0,c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),o?(0,c.jsx)(p,{venue:o,setEditVenue:d,setShowAlert:u}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h3",{children:"Manage Venues"}),(0,c.jsxs)("p",{children:["Total Entries: ",e.length]}),(0,c.jsx)("form",{onSubmit:e=>{e.preventDefault()},className:"mb-3",children:(0,c.jsx)("div",{className:"form-group d-flex",children:(0,c.jsx)("input",{type:"text",className:"form-control",placeholder:"Search by name, category, or location",value:a,onChange:e=>{n(e.target.value)}})})}),(0,c.jsxs)("table",{className:"table",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:"Title"}),(0,c.jsx)("th",{children:"Category"}),(0,c.jsx)("th",{children:"Location"}),(0,c.jsx)("th",{children:"Status"}),(0,c.jsx)("th",{children:"Actions"})]})}),(0,c.jsx)("tbody",{children:i.map((a=>(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:a.title}),(0,c.jsx)("td",{children:a.category}),(0,c.jsx)("td",{children:a.location}),(0,c.jsx)("td",{children:a.status}),(0,c.jsxs)("td",{children:[(0,c.jsx)("button",{className:"btn btn-warning mr-2",onClick:()=>(e=>{d(e)})(a),children:"Edit"}),(0,c.jsx)("button",{className:"btn btn-danger",onClick:()=>(async a=>{if(window.confirm("Are you sure you want to delete this venue?"))try{await l.A.delete("".concat("http://dubaimusic.com:5000","/api/venues/").concat(a)),t(e.filter((e=>e._id!==a))),u(!0)}catch(s){console.error("Error deleting venue:",s)}})(a._id),children:"Delete"})]})]},a._id)))})]})]})]})};var x=a(5475);const j=()=>{const[e,t]=(0,s.useState)(!1),[a,i]=(0,s.useState)({name:"",bio:"",contact:"",logo:"",featuredImage:"",status:"draft"}),o=e=>{const{name:t,value:a}=e.target;i((e=>({...e,[t]:a})))},d=e=>{const{name:t}=e.target;i((a=>({...a,[t]:e.target.files[0]})))};return(0,c.jsxs)("div",{className:"add-music-store",children:[(0,c.jsx)("h3",{children:"Add New Music Store"}),(0,c.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const s=new FormData;s.append("name",a.name),s.append("bio",a.bio),s.append("status",a.status),s.append("contact",a.contact),a.logo&&s.append("logo",a.logo),a.featuredImage&&s.append("featuredImage",a.featuredImage);try{const e=await l.A.post("".concat("http://dubaimusic.com:5000","/api/musicstore"),s,{headers:{"Content-Type":"multipart/form-data"}});console.log("Music store saved successfully:",e.data),t(!0),setTimeout((()=>{t(!1)}),3e3)}catch(n){console.error("Error saving music store:",n)}},encType:"multipart/form-data",className:"mt-3",children:[(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Store Name"}),(0,c.jsx)("input",{type:"text",name:"name",value:a.name,onChange:o,required:!0,className:"form-control"})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Store Bio"}),(0,c.jsx)(n.CKEditor,{editor:r(),data:a.bio,onChange:(e,t)=>{const a=t.getData();i((e=>({...e,bio:a})))},required:!0,className:"form-control"})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Contact"}),(0,c.jsx)("input",{type:"text",name:"contact",value:a.contact,onChange:o,required:!0,className:"form-control"})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Logo"}),(0,c.jsx)("input",{type:"file",name:"logo",onChange:d,className:"form-control"})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Featured Image"}),(0,c.jsx)("input",{type:"file",name:"featuredImage",onChange:d,className:"form-control",required:!0})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Status"}),(0,c.jsxs)("div",{className:"custom-switch",children:[(0,c.jsx)("input",{type:"checkbox",id:"statusSwitch",checked:"publish"===a.status,onChange:()=>{i((e=>({...e,status:"publish"===e.status?"draft":"publish"})))}}),(0,c.jsx)("label",{className:"slider",htmlFor:"statusSwitch"}),(0,c.jsx)("span",{className:"custom-switch-label",children:"publish"===a.status?"Published":"Draft"})]})]}),e&&(0,c.jsxs)("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:["Music store added successfully!",(0,c.jsx)("button",{type:"button",className:"close",onClick:()=>t(!1),children:(0,c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,c.jsx)("button",{type:"submit",className:"btn btn-lg btn-dark mt-5",children:"Add Music Store"})]})]})},b=e=>{let{store:t,setEditStore:a,setShowAlert:i}=e;const[o,d]=(0,s.useState)(t.name||""),[m,u]=(0,s.useState)(t.contact||""),[h,p]=(0,s.useState)(t.bio||""),[g,x]=(0,s.useState)(t.logo||""),[j,b]=(0,s.useState)(null),[y,f]=(0,s.useState)(null),[N,v]=(0,s.useState)(""),[C,S]=(0,s.useState)(t.status||"");(0,s.useEffect)((()=>{d(t.name||""),u(t.contact||""),p(t.bio||""),x(t.logo||""),S(t.status||""),b(t.featuredImage||"")}),[t]);return(0,c.jsxs)("div",{className:"edit-music-store",children:[(0,c.jsx)("h3",{children:"Edit Music Store"}),N&&(0,c.jsx)("div",{className:"alert alert-danger",children:N}),(0,c.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const s=new FormData;s.append("name",o),s.append("contact",m),s.append("bio",h),s.append("status",C),y&&s.append("logo",y),j&&s.append("featuredImage",j);try{await l.A.put("".concat("http://dubaimusic.com:5000","/api/musicstore/").concat(t._id),s,{headers:{"Content-Type":"multipart/form-data"}}),i(!0),a(null)}catch(n){console.error("Error updating music store:",n),v("Error updating the store. Please try again.")}},children:[(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Store Name"}),(0,c.jsx)("input",{type:"text",className:"form-control",value:o,onChange:e=>d(e.target.value),required:!0})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Contact"}),(0,c.jsx)("input",{type:"text",className:"form-control",value:m,onChange:e=>u(e.target.value),required:!0})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Bio"}),(0,c.jsx)(n.CKEditor,{editor:r(),data:h,onChange:(e,t)=>{const a=t.getData();p(a)},config:{toolbar:["heading","|","bold","italic","link","|","bulletedList","numberedList","blockQuote","|","undo","redo"],placeholder:"Enter the bio for the store here..."}})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Current Logo"}),g?(0,c.jsx)("div",{children:(0,c.jsx)("img",{src:"".concat("http://dubaimusic.com:5000","/").concat(g),alt:o,style:{width:"100px"}})}):(0,c.jsx)("p",{children:"No Logo"})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Upload New Logo (optional)"}),(0,c.jsx)("input",{type:"file",className:"form-control",onChange:e=>{const t=e.target.files[0];t&&f(t)}})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Current Featured Image"}),j?(0,c.jsx)("div",{children:(0,c.jsx)("img",{src:"".concat("http://dubaimusic.com:5000","/").concat(t.featuredImage),alt:o,style:{width:"100px"}})}):(0,c.jsx)("p",{children:"No Featured Image"})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Featured Image"}),(0,c.jsx)("input",{type:"file",name:"featuredImage",onChange:e=>{const t=e.target.files[0];t&&b(t)},className:"form-control"})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Status"}),(0,c.jsxs)("div",{className:"custom-switch",children:[(0,c.jsx)("input",{type:"checkbox",id:"statusCont",checked:"published"===C,onChange:()=>{S((e=>{const t="published"===e?"draft":"published";return console.log("Toggled Status:",t),t}))}}),(0,c.jsx)("label",{className:"slider",htmlFor:"statusCont",children:" "}),(0,c.jsx)("span",{className:"custom-switch-label",children:"published"===C?"Published":"Draft"})]})]}),(0,c.jsxs)("div",{className:"form-group d-flex",children:[(0,c.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save Changes"}),(0,c.jsx)("button",{type:"button",className:"btn btn-secondary ml-2",onClick:()=>a(null),children:"Cancel"})]})]})]})},y=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)(""),[i,r]=(0,s.useState)([]),[o,d]=(0,s.useState)(null),[m,u]=(0,s.useState)(!1);(0,s.useEffect)((()=>{(async()=>{try{const e=await l.A.get("".concat("http://dubaimusic.com:5000","/api/musicstore"));t(e.data)}catch(e){console.error("Error fetching music stores:",e)}})()}),[]),(0,s.useEffect)((()=>{const t=e.filter((e=>e.name&&e.name.toLowerCase().includes(a.toLowerCase())||e.contact&&e.contact.toLowerCase().includes(a.toLowerCase())));r(t)}),[a,e]);return(0,c.jsxs)("div",{className:"stores",children:[m&&(0,c.jsxs)("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:["Action successful!",(0,c.jsx)("button",{type:"button",className:"close",onClick:()=>u(!1),children:(0,c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),o?(0,c.jsx)(b,{store:o,setEditStore:d,setShowAlert:u}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h3",{children:"Manage Music Stores"}),(0,c.jsxs)("p",{children:["Total Entries: ",e.length]})," ",(0,c.jsx)("form",{onSubmit:e=>{e.preventDefault()},className:"mb-3",children:(0,c.jsx)("div",{className:"form-group d-flex",children:(0,c.jsx)("input",{type:"text",className:"form-control",placeholder:"Search by name or contact",value:a,onChange:e=>{n(e.target.value)}})})}),(0,c.jsxs)("table",{className:"table",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:"Name"}),(0,c.jsx)("th",{children:"Contact"}),(0,c.jsx)("th",{children:"Status"}),(0,c.jsx)("th",{children:"Logo"}),(0,c.jsx)("th",{children:"Actions"})]})}),(0,c.jsx)("tbody",{children:i.map((a=>(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:a.name||"No Name"}),(0,c.jsx)("td",{children:a.contact||"No Contact"}),(0,c.jsx)("td",{children:a.status||"No Status"}),(0,c.jsx)("td",{children:a.logo?(0,c.jsx)("img",{src:"".concat("http://dubaimusic.com:5000","/").concat(a.logo),alt:a.name,style:{width:"50px"}}):"No Logo"}),(0,c.jsxs)("td",{children:[(0,c.jsx)("button",{className:"btn btn-warning mr-2",onClick:()=>(e=>{d(e)})(a),children:"Edit"}),(0,c.jsx)("button",{className:"btn btn-danger",onClick:()=>(async a=>{if(window.confirm("Are you sure you want to delete this store?"))try{await l.A.delete("".concat("http://dubaimusic.com:5000","/api/musicstore/").concat(a)),t(e.filter((e=>e._id!==a))),u(!0)}catch(s){console.error("Error deleting store:",s)}})(a._id),children:"Delete"})]})]},a._id)))})]})]})]})},f=e=>{let{weddingVip:t,setEditWeddingVip:a,setShowAlert:i}=e;const[o,d]=(0,s.useState)(t.title),[m,u]=(0,s.useState)(t.description),[h,p]=(0,s.useState)(t.videoUrl),[g,x]=(0,s.useState)(t.category||""),[j,b]=(0,s.useState)(null),[y,f]=(0,s.useState)("No file chosen"),[N,v]=(0,s.useState)(t.galleryImages||[]),[C,S]=(0,s.useState)(t.status),[w,k]=(0,s.useState)([]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h3",{children:"Edit Wedding VIP"}),(0,c.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const s=t._id,n=new FormData;n.append("title",o),n.append("description",m),n.append("videoUrl",h),n.append("category",g),n.append("isPublished",C),j&&n.append("image",j),w.forEach((e=>{n.append("galleryImages",e)}));try{const e=await l.A.put("".concat("http://dubaimusic.com:5000","/api/weddingvip/").concat(s),n,{headers:{"Content-Type":"multipart/form-data"}});console.log("Wedding VIP updated successfully:",e.data),i({type:"success",message:"Wedding VIP updated successfully!"}),a(null)}catch(r){console.error("Error updating wedding VIP:",r.response?r.response.data:r.message),i({type:"danger",message:"Failed to update wedding VIP."})}},className:"mt-4",children:[(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"name",children:"Name"}),(0,c.jsx)("input",{type:"text",className:"form-control",id:"name",value:o,onChange:e=>d(e.target.value),placeholder:"Enter title",required:!0})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"bio",children:"Bio"}),(0,c.jsx)(n.CKEditor,{editor:r(),data:m,onChange:(e,t)=>{const a=t.getData();u(a)},config:{placeholder:"Enter wedding VIP bio"}})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"category",children:"Category"}),(0,c.jsxs)("select",{className:"form-control",id:"category",value:g,onChange:e=>x(e.target.value),required:!0,children:[(0,c.jsx)("option",{value:"",children:"Select a category"}),(0,c.jsx)("option",{value:"Wedding/Engagement Packages",children:"Wedding/Engagement Packages"}),(0,c.jsx)("option",{value:"VIP Bookings",children:"VIP Bookings"})]})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"videoUrl",children:"Video URL"}),(0,c.jsx)("input",{type:"text",className:"form-control",id:"videoUrl",value:h,onChange:e=>p(e.target.value),placeholder:"Enter video URL"})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"image",children:"Wedding VIP Photo"}),(0,c.jsxs)("div",{className:"custom-file-input-wrapper",children:[(0,c.jsx)("input",{type:"file",className:"form-control-file",id:"image",onChange:e=>{const t=e.target.files[0];b(t),f(t?t.name:"No file chosen")}}),(0,c.jsx)("button",{type:"button",className:"btn btn-dark",onClick:()=>document.getElementById("image").click(),children:"Upload Photo"}),(0,c.jsx)("span",{id:"file-name",children:y})]})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Gallery Images"}),(0,c.jsx)("div",{children:(0,c.jsx)("input",{type:"file",multiple:!0,className:"form-control",onChange:e=>{k([...w,...Array.from(e.target.files)])}})}),(0,c.jsxs)("div",{className:"gallery-container mt-3",children:[(0,c.jsx)("h5",{children:"Existing Gallery Images"}),(0,c.jsx)("div",{className:"grid-container",children:N.map(((e,a)=>(0,c.jsxs)("div",{className:"gallery-item",children:[(0,c.jsx)("img",{src:"".concat("http://dubaimusic.com:5000","/").concat(e),alt:"Gallery img ".concat(a+1),className:"img-fluid"}),(0,c.jsx)("button",{type:"button",className:"btn btn-danger btn-sm mt-2",onClick:()=>(async e=>{const a=N[e];try{await l.A.delete("".concat("http://dubaimusic.com:5000","/api/weddingvip/").concat(t._id,"/gallery"),{data:{image:a}}),v(N.filter(((t,a)=>a!==e)))}catch(s){console.error("Error removing gallery image:",s)}})(a),children:"Remove"})]},a)))}),w.length>0&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h5",{className:"mt-4",children:"New Gallery Images"}),(0,c.jsx)("div",{className:"grid-container",children:w.map(((e,t)=>(0,c.jsxs)("div",{className:"gallery-item",children:[(0,c.jsx)("img",{src:URL.createObjectURL(e),alt:"New Gallery img ".concat(t+1),className:"img-fluid"}),(0,c.jsx)("button",{type:"button",className:"btn btn-danger btn-sm mt-2",onClick:()=>(e=>{k(w.filter(((t,a)=>a!==e)))})(t),children:"Remove"})]},t)))})]})]})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Status"}),(0,c.jsxs)("div",{className:"custom-switch",children:[(0,c.jsx)("input",{type:"checkbox",id:"statusSwitch",checked:"published"===C,name:C,onChange:()=>{S((e=>"published"===e?"draft":"published"))}}),(0,c.jsx)("label",{className:"slider",htmlFor:"statusSwitch"}),(0,c.jsx)("span",{className:"custom-switch-label",children:C?"Published":"Draft"})]})]}),(0,c.jsx)("button",{type:"submit",className:"btn btn-lg btn-dark mt-5",children:"Update Wedding VIP"}),(0,c.jsx)("button",{type:"button",className:"btn btn-secondary ml-3 mt-5",onClick:()=>a(null),children:"Cancel"})]})]})},N=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)(""),[i,r]=(0,s.useState)([]),[o,d]=(0,s.useState)(null),[m,u]=(0,s.useState)(!1);(0,s.useEffect)((()=>{(async()=>{try{const e=await l.A.get("".concat("http://dubaimusic.com:5000","/api/weddingvip"));t(e.data)}catch(e){console.error("Error fetching Wedding VIPs:",e)}})()}),[]),(0,s.useEffect)((()=>{const t=e.filter((e=>e.title&&e.title.toLowerCase().includes(a.toLowerCase())||e.description&&e.description.toLowerCase().includes(a.toLowerCase())));r(t)}),[a,e]);return(0,c.jsxs)("div",{className:"weddingvips",children:[m&&(0,c.jsxs)("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:["Action successful!",(0,c.jsx)("button",{type:"button",className:"close",onClick:()=>u(!1),children:(0,c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),o?(0,c.jsx)(f,{weddingVip:o,setEditWeddingVip:d,setShowAlert:u}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h3",{children:"Manage Wedding VIPs"}),(0,c.jsxs)("p",{children:["Total Entries: ",e.length]}),(0,c.jsx)("form",{onSubmit:e=>{e.preventDefault()},className:"mb-3",children:(0,c.jsx)("div",{className:"form-group d-flex",children:(0,c.jsx)("input",{type:"text",className:"form-control",placeholder:"Search by title or description",value:a,onChange:e=>{n(e.target.value)}})})}),(0,c.jsxs)("table",{className:"table",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:"Title"}),(0,c.jsx)("th",{children:"Category"}),(0,c.jsx)("th",{children:"Description"}),(0,c.jsx)("th",{children:"Status"}),(0,c.jsx)("th",{children:"Actions"})]})}),(0,c.jsx)("tbody",{children:i.map((a=>(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:a.title}),(0,c.jsx)("td",{children:a.category}),(0,c.jsx)("td",{children:a.description}),(0,c.jsx)("td",{children:a.isPublished}),(0,c.jsxs)("td",{children:[(0,c.jsx)("button",{className:"btn btn-warning mr-2",onClick:()=>(e=>{d(e)})(a),children:"Edit"}),(0,c.jsx)("button",{className:"btn btn-danger",onClick:()=>(async a=>{if(window.confirm("Are you sure you want to delete this Wedding VIP?"))try{await l.A.delete("".concat("http://dubaimusic.com:5000","/api/weddingvip/").concat(a)),t(e.filter((e=>e._id!==a))),u(!0)}catch(s){console.error("Error deleting Wedding VIP:",s)}})(a._id),children:"Delete"})]})]},a._id)))})]})]})]})},v=()=>{const[e,t]=(0,s.useState)(""),[a,i]=(0,s.useState)(""),[o,d]=(0,s.useState)(""),[m,u]=(0,s.useState)(""),[h,p]=(0,s.useState)("No file chosen"),[g,x]=(0,s.useState)(!1),[j,b]=(0,s.useState)([]),[y,f]=(0,s.useState)(null),[N,v]=(0,s.useState)([]),[C,S]=(0,s.useState)(!1);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h3",{children:"Add New Wedding VIP"}),(0,c.jsxs)("form",{onSubmit:async s=>{s.preventDefault();const n=new FormData;n.append("title",e),n.append("description",a),n.append("videoUrl",o),n.append("category",m),n.append("image",y),n.append("isPublished",C?"published":"draft"),N.forEach((e=>{n.append("galleryImages",e)}));try{const e=await l.A.post("".concat("http://dubaimusic.com:5000","/api/weddingvip"),n,{headers:{"Content-Type":"multipart/form-data"}});console.log("Wedding-VIP created:",e.data),x(!0),t(""),i(""),d(""),u(""),f(null),v([]),p("No file chosen"),b([]),S(!1)}catch(r){console.error("Error creating wedding-vip:",r)}},className:"mt-4",children:[(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"name",children:"Name"}),(0,c.jsx)("input",{type:"text",className:"form-control",id:"name",value:e,onChange:e=>t(e.target.value),placeholder:"Enter title",required:!0})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"bio",children:"Bio"}),(0,c.jsx)(n.CKEditor,{editor:r(),data:a,onChange:(e,t)=>{const a=t.getData();i(a)},config:{placeholder:"Enter wedding-VIP bio"}})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"category",children:"Category"}),(0,c.jsxs)("select",{className:"form-control",id:"category",value:m,onChange:e=>u(e.target.value),required:!0,children:[(0,c.jsx)("option",{value:"",children:"Select Category"}),(0,c.jsx)("option",{value:"Wedding/Engagement Packages",children:"Wedding/Engagement Packages"}),(0,c.jsx)("option",{value:"VIP Bookings",children:"VIP Bookings"})]})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"videoUrl",children:"Video URL"}),(0,c.jsx)("input",{type:"text",className:"form-control",id:"videoUrl",value:o,onChange:e=>d(e.target.value),placeholder:"Enter video URL"})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"image",children:"Wedding/VIP Photo"}),(0,c.jsxs)("div",{className:"custom-file-input-wrapper",children:[(0,c.jsx)("input",{type:"file",className:"form-control-file",id:"image",required:!0,onChange:e=>{const t=e.target.files[0];f(t),p(t?t.name:"No file chosen")}}),(0,c.jsx)("button",{type:"button",className:"btn btn-dark",onClick:()=>document.getElementById("image").click(),children:"Upload Photo"}),(0,c.jsx)("span",{id:"file-name",children:h})]})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"gallery",children:"Gallery"}),(0,c.jsxs)("div",{className:"custom-file-input-wrapper",children:[(0,c.jsx)("input",{type:"file",className:"form-control-file",id:"gallery",multiple:!0,onChange:e=>{const t=Array.from(e.target.files);v(t),b(t.map((e=>e.name)))}}),(0,c.jsx)("button",{type:"button",className:"btn btn-dark",onClick:()=>document.getElementById("gallery").click(),children:"Upload Gallery Images"}),(0,c.jsx)("span",{id:"file-name",children:j.join(", ")||"No files chosen"})]})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Status"}),(0,c.jsxs)("div",{className:"custom-switch",children:[(0,c.jsx)("input",{type:"checkbox",id:"statusSwitch",checked:C,onChange:()=>{S((e=>!e))}}),(0,c.jsx)("label",{className:"slider",htmlFor:"statusSwitch"}),(0,c.jsx)("span",{className:"custom-switch-label",children:C?"Published":"Draft"})]})]}),g&&(0,c.jsxs)("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:["Wedding VIP added successfully!",(0,c.jsx)("button",{type:"button",className:"close",onClick:()=>x(!1),children:(0,c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,c.jsx)("button",{type:"submit",className:"btn btn-lg btn-dark mt-5",children:"Add Wedding VIP"})]})]})},C=()=>{const[e,t]=(0,s.useState)("addArtist"),a=e=>{t(e)};return(0,c.jsx)("div",{className:"container-fluid dashboard",children:(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-md-2",children:(0,c.jsx)("nav",{className:"d-none d-md-block bg-black sidebar",children:(0,c.jsx)("div",{className:"sidebar-sticky",children:(0,c.jsxs)("ul",{className:"nav flex-column",children:[(0,c.jsx)("li",{className:"nav-item",children:(0,c.jsx)("div",{className:"accordion",id:"accordionArtists",children:(0,c.jsxs)("div",{className:"accordion-item",children:[(0,c.jsx)("button",{className:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseArtists","aria-expanded":"true","aria-controls":"collapseArtists",children:"Artists"}),(0,c.jsx)("div",{id:"collapseArtists",className:"accordion-collapse collapse","aria-labelledby":"headingOne","data-bs-parent":"#accordionArtists",children:(0,c.jsxs)("div",{className:"accordion-body",children:[(0,c.jsx)(x.N_,{className:"nav-link",onClick:()=>a("addArtist"),children:"Add Artist"}),(0,c.jsx)(x.N_,{className:"nav-link",onClick:()=>a("editArtist"),children:"Manage Artists"}),(0,c.jsx)(x.N_,{className:"nav-link",onClick:()=>a("addCategory"),children:"Artist Categories"})]})})]})})}),(0,c.jsx)("li",{className:"nav-item",children:(0,c.jsx)("div",{className:"accordion",id:"accordionVenues",children:(0,c.jsxs)("div",{className:"accordion-item",children:[(0,c.jsx)("button",{className:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseVenues","aria-expanded":"true","aria-controls":"collapseVenues",children:"Venues"}),(0,c.jsx)("div",{id:"collapseVenues",className:"accordion-collapse collapse","aria-labelledby":"headingOne","data-bs-parent":"#accordionVenues",children:(0,c.jsxs)("div",{className:"accordion-body",children:[(0,c.jsx)(x.N_,{className:"nav-link",onClick:()=>a("addVenue"),children:"Add Venue"}),(0,c.jsx)(x.N_,{className:"nav-link",onClick:()=>a("manageVenue"),children:"Manage Venues"})]})})]})})}),(0,c.jsx)("li",{className:"nav-item",children:(0,c.jsx)("div",{className:"accordion",id:"accordionWedding",children:(0,c.jsxs)("div",{className:"accordion-item",children:[(0,c.jsx)("button",{className:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseWedding","aria-expanded":"true","aria-controls":"collapseWedding",children:"Wedding-VIP"}),(0,c.jsx)("div",{id:"collapseWedding",className:"accordion-collapse collapse","aria-labelledby":"headingTwo","data-bs-parent":"#accordionWedding",children:(0,c.jsxs)("div",{className:"accordion-body",children:[(0,c.jsx)(x.N_,{className:"nav-link",onClick:()=>a("addWeddingVip"),children:"Add Wedding-VIP"}),(0,c.jsx)(x.N_,{className:"nav-link",onClick:()=>a("manageWeddingVip"),children:"Manage Wedding-VIP"})]})})]})})}),(0,c.jsx)("li",{className:"nav-item",children:(0,c.jsx)("div",{className:"accordion",id:"accordionStore",children:(0,c.jsxs)("div",{className:"accordion-item",children:[(0,c.jsx)("button",{className:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseStore","aria-expanded":"true","aria-controls":"collapseStore",children:"Music Store"}),(0,c.jsx)("div",{id:"collapseStore",className:"accordion-collapse collapse","aria-labelledby":"headingOne","data-bs-parent":"#accordionStore",children:(0,c.jsxs)("div",{className:"accordion-body",children:[(0,c.jsx)(x.N_,{className:"nav-link",onClick:()=>a("addStore"),children:"Add Store"}),(0,c.jsx)(x.N_,{className:"nav-link",onClick:()=>a("manageMusicStore"),children:"Manage Stores"})]})})]})})})]})})})}),(0,c.jsx)("div",{className:"col-md-10",children:(0,c.jsxs)("main",{role:"main",className:"ml-sm-auto p-4",children:["addArtist"===e&&(0,c.jsx)(o,{}),"addCategory"===e&&(0,c.jsx)(d,{}),"editArtist"===e&&(0,c.jsx)(u,{}),"addVenue"===e&&(0,c.jsx)(h,{}),"addWeddingVip"===e&&(0,c.jsx)(v,{}),"manageVenue"===e&&(0,c.jsx)(g,{}),"addStore"===e&&(0,c.jsx)(j,{}),"manageMusicStore"===e&&(0,c.jsx)(y,{}),"manageWeddingVip"===e&&(0,c.jsx)(N,{})]})})]})})}}}]);
//# sourceMappingURL=603.b4ae3db0.chunk.js.map