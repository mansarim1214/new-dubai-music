"use strict";(self.webpackChunkdubaimusic=self.webpackChunkdubaimusic||[]).push([[472],{5269:(e,s,a)=>{a.r(s),a.d(s,{default:()=>g});var r=a(5043),t=a(6213),i=a(3216),l=a(344),n=a(7632),c=(a(7475),a(1043)),o=a.n(c),d=a(1462),m=a(184),h=a(7265),u=(a(3484),a(579));const g=()=>{const{id:e}=(0,i.g)(),[s,a]=(0,r.useState)(null),[c,g]=(0,r.useState)(!0),[p,x]=(0,r.useState)({name:"",phone:"",email:""}),[j,v]=(0,r.useState)(""),[N,y]=(0,r.useState)([]),b=(0,i.Zp)();(0,r.useEffect)((()=>{(async()=>{try{const s=await t.A.get("".concat("http://dubaimusic.com:5000","/api/artists/").concat(e));a(s.data),g(!1);const r=s.data.galleryImages.map((async e=>{const s="".concat("http://dubaimusic.com:5000","/").concat(e);return new Promise((e=>{const a=new Image;a.src=s,a.onload=()=>e({src:s,width:a.width,height:a.height})}))})),i=await Promise.all(r);y(i)}catch(s){console.error("Error fetching artist:",s),g(!1)}})()}),[e]);const f=e=>{x({...p,[e.target.name]:e.target.value})};if(c)return(0,u.jsx)(h.A,{});if(!s)return(0,u.jsx)("div",{children:"Artist not found."});const w=["Wedding Packages","VIP"].includes(s.category),k="https://api.whatsapp.com/send?text=Check out this: ".concat(window.location.href);return(0,u.jsx)("div",{className:"artist-detail bg-custom",children:(0,u.jsxs)("div",{className:"container",children:[(0,u.jsxs)("span",{onClick:()=>{b(-1)},className:"back-btn",children:[(0,u.jsx)(d.BsArrowLeftSquareFill,{size:30,className:"my-2"})," "]}),s.videoUrl&&(0,u.jsx)("div",{className:"artist-video",children:(0,u.jsx)("iframe",{width:"100%",height:"500",src:function(e){if(!e)return console.error("URL is null or undefined"),null;const s=(e=>{const s=e.match(/(?:youtube\.com\/(?:watch\?v=|embed\/|v\/)|youtu\.be\/)([a-zA-Z0-9_-]{11})/);return s?s[1]:null})(e);return s?"https://www.youtube.com/embed/".concat(s,"?rel=0"):(console.error("Invalid or unsupported YouTube URL:",e),null)}(s.videoUrl),title:s.title,frameBorder:"0",allowFullScreen:!0})}),s.audioUrl&&(0,u.jsx)("div",{className:"artist-audio",children:(0,u.jsx)(o(),{url:s.audioUrl})}),(0,u.jsx)("h1",{children:s.title}),!w&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{children:["Category: ",(0,u.jsx)("span",{children:s.category})]}),(0,u.jsxs)("div",{children:["Music Style: ",(0,u.jsx)("span",{children:s.speciality})]})]}),(0,u.jsx)("div",{id:"description",className:"mt-3",children:(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col-md-".concat(s.galleryImages.length||s.imageUrl?"6":"12"),children:[(0,u.jsx)("h4",{children:"About"}),(0,u.jsx)("div",{dangerouslySetInnerHTML:{__html:(S=s.description,S.replace(/<a /g,'<a target="_blank" rel="noopener noreferrer" ')||"<em>Description not available yet</em>")}}),(0,u.jsx)("div",{className:"whatsapp-share my-5",children:(0,u.jsxs)("a",{href:k,target:"_blank",rel:"noopener noreferrer",className:"btn btn-success",children:[(0,u.jsx)(m.EcP,{})," Share with Friends"]})})]}),(s.galleryImages.length||s.imageUrl)&&(0,u.jsxs)("div",{className:"col-md-".concat(s.imageUrl?"6":"12"),children:[s.imageUrl&&(0,u.jsx)("img",{src:"".concat("http://dubaimusic.com:5000","/").concat(s.imageUrl),alt:s.title,className:"artist-image mb-2",style:{width:"100%",height:"auto"}}),s.galleryImages.length>0&&(0,u.jsxs)("div",{className:"gallery-container",children:[(0,u.jsx)("h4",{children:"Gallery"}),(0,u.jsx)(n.Z2,{children:(0,u.jsx)("div",{className:"grid-container",children:N.map(((e,s)=>(0,u.jsx)(n.q7,{original:e.src,thumbnail:e.src,width:e.width,height:e.height,children:a=>{let{ref:r,open:t}=a;return(0,u.jsx)("img",{ref:r,onClick:t,src:e.src,alt:"Galleryimage ".concat(s+1),className:"grid-item",style:{cursor:"pointer"}})}},s)))})})]})]})]})}),(0,u.jsxs)("div",{className:"artistForm mt-3",children:[(0,u.jsx)("h1",{className:"mx-2 my-2",children:"Book Now"}),(0,u.jsxs)("form",{onSubmit:e=>{e.preventDefault();const a={name:p.name,phone:p.phone,email:p.email,artistName:null===s||void 0===s?void 0:s.title};l.Ay.send("service_3hkljmf","template_tg0y1rn",a,"q1l_DC7jwQvu80xJ5").then((e=>{v("Booking request sent successfully!"),x({name:"",phone:"",email:""})})).catch((e=>{v("Failed to send booking request. Please try again."),console.error("Error sending booking request:",e)}))},children:[(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-md-6",children:(0,u.jsx)("div",{className:"form-group",children:(0,u.jsx)("input",{type:"text",id:"name",name:"name",className:"form-control",value:p.name,onChange:f,required:!0,placeholder:"Your Name"})})}),(0,u.jsx)("div",{className:"col-md-6",children:(0,u.jsx)("div",{className:"form-group",children:(0,u.jsx)("input",{type:"tel",id:"phone",name:"phone",className:"form-control",value:p.phone,onChange:f,required:!0,placeholder:"Phone Number"})})})]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-md-6",children:(0,u.jsx)("div",{className:"form-group",children:(0,u.jsx)("input",{type:"email",id:"email",name:"email",className:"form-control",value:p.email,onChange:f,required:!0,placeholder:"Your Email"})})}),(0,u.jsx)("div",{className:"col-md-6",children:(0,u.jsx)("button",{type:"submit",className:"btn enquirybtn",children:"Book Now"})})]})]}),j&&(0,u.jsx)("p",{className:"form-message",children:j})]})]})});var S}}}]);
//# sourceMappingURL=472.b405fb64.chunk.js.map