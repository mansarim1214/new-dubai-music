"use strict";(self.webpackChunkdubaimusic=self.webpackChunkdubaimusic||[]).push([[393],{7393:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var i=a(5043),s=a(5475),l=a(1462),n=a(8270),o=a(8227),r=a(6213),c=(a(3484),a(579));const d=()=>{const[e,t]=(0,i.useState)(!1);(0,i.useEffect)((()=>{if(""===(e=>{const t="; ".concat(document.cookie).split("; ".concat(e,"="));return 2===t.length?t.pop().split(";").shift():""})("loadPopup")){const e=setTimeout((()=>{t(!0),((e,t,a)=>{let i="";if(a){const e=new Date;e.setTime(e.getTime()+24*a*60*60*1e3),i="; expires="+e.toGMTString()}document.cookie=e+"="+t+i+"; path=/"})("loadPopup",!0,1)}),4e3);return()=>clearTimeout(e)}}),[]);return(0,c.jsx)(c.Fragment,{children:e&&(0,c.jsx)("div",{className:"modal fade show",tabIndex:"-1",role:"dialog","aria-labelledby":"myLargeModalLabel",id:"WelcomeModal",style:{display:"block"},children:(0,c.jsx)("div",{className:"modal-dialog modal-lg",children:(0,c.jsxs)("div",{className:"modal-content welcomemodal text-center",children:[(0,c.jsx)("div",{className:"modal-header p-0 ",children:(0,c.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>{t(!1)}})}),(0,c.jsxs)("div",{className:"modal-body py-0",children:[(0,c.jsx)("div",{className:"tex-center",children:(0,c.jsx)("img",{src:"/dubai-music-white-logo.webp",className:"d-inline-block align-top",alt:"Logo",width:"200px"})}),(0,c.jsxs)("h4",{className:"text-center py-4",children:["Connecting you to the best live music,",(0,c.jsx)("br",{})," seven days a week"]})]})]})})})})};var m=a(7265);n.os.registerPlugin(o.s);const u=()=>{const[e,t]=(0,i.useState)([]),[a,u]=(0,i.useState)({}),[h,f]=(0,i.useState)([]),[x,g]=(0,i.useState)({left:!1,right:!1}),p=(0,i.useRef)([]),[v,b]=(0,i.useState)(!0);(0,i.useEffect)((()=>{(async()=>{const e={Singers:["Jerome Deligero","Emily Peacock","Toi Dupras","Yvonne Park","Matt Palmer","Lina Ammor- Jevtic","Eirini Devitt","Juan Pablo Pellicer","Nick Pritchard","Mostafa Sattar","Jin Flora","Robbi McFaulds"],DJ:["Dadou","Elena","Yana Kulyk","Raphy J","DJ Stylez","DJ Melyna"],Musicians:["Ksenia Kot","Jose Ramon Nunez","Soren Lyng Hansen","Tatiana Durova","Aleksandra Dudek","Ulyana Goncharova"],Trending:["Carrie Gibson\u2019s NuvoSoul","Jaymie Deville","Chelsey Chantelle","Golden Collective","Abdallah Seleem","Dany Echemendia","Marvin Lee"]};try{b(!0);const a=(await r.A.get("".concat("http://dubaimusic.com:5000","/api/categories"))).data;let i=(await r.A.get("".concat("http://dubaimusic.com:5000","/api/artists"))).data;i=i.filter((e=>"published"===e.isPublished));const s=["Trending","Singers","Solo Looping Artists","Band","DJ","Musicians"],l=a.sort(((e,t)=>{const a=s.indexOf(e.name),i=s.indexOf(t.name);return-1===a&&-1===i?0:-1===a?1:-1===i?-1:a-i})),n=JSON.parse(localStorage.getItem("favorites"))||[],o={};l.forEach((t=>{let a=i.filter((e=>e.category===t.name)).map((e=>({...e,isFavorite:n.some((t=>t._id===e._id))})));const s=e[t.name];if(s){const e=a.filter((e=>s.includes(e.title))).sort(((e,t)=>s.indexOf(e.title)-s.indexOf(t.title))),t=a.filter((e=>!s.includes(e.title)));a=[...e,...t]}o[t.name]=a})),t(l),u(o),f(n)}catch(a){console.error("Error fetching data:",a)}finally{b(!1)}})()}),[]),(0,i.useEffect)((()=>{if(p.current.length>0){const e=()=>{p.current.forEach(((e,t)=>{if(e){const a=e.scrollWidth,i=e.clientWidth,s=e.scrollLeft;g((e=>({...e,[t]:{left:s>0,right:s<a-i}})))}}))};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}}),[a,h]),(0,i.useEffect)((()=>{window.innerWidth<=500&&p.current.length>0&&p.current.forEach((e=>{e&&(n.os.killTweensOf(e),o.s.create(e,{type:"x",bounds:{minX:-e.scrollWidth+e.clientWidth,maxX:0},inertia:!0,throwProps:!0,edgeResistance:.65,onThrowUpdate:()=>{n.os.to(e,{x:e._gsap.x,ease:"power2.out"})},snap:{x:e=>200*Math.round(e/16.67)}}))}))}),[a,h]);const j=e=>h.some((t=>t._id===e._id)),y=(e,t)=>{const a=p.current[t];if(a){const i=3*(a.clientWidth/6)*e;a.scrollBy({left:i,behavior:"smooth"}),setTimeout((()=>{const e=a.scrollWidth,i=a.clientWidth,s=a.scrollLeft;g((a=>({...a,[t]:{left:s>0,right:s<e-i}})))}),500)}};return v?(0,c.jsx)(m.A,{}):(0,c.jsxs)("div",{className:"mainFront",children:[(0,c.jsx)(d,{}),(0,c.jsx)("div",{className:"container-fluid p-0",id:"explore",children:e.filter((e=>a[e.name]&&a[e.name].length>0)).map(((e,t)=>{var i,n,o;return(0,c.jsxs)("section",{className:"artSection",children:[(0,c.jsxs)("div",{className:"div mb-2 ",children:[(0,c.jsx)("h2",{className:"artCat",children:e.name}),(0,c.jsx)("hr",{})]}),(null===(i=x[t])||void 0===i?void 0:i.left)&&(0,c.jsx)("button",{className:"arrow left react-multiple-carousel__arrow",onClick:()=>y(-1,t),children:(0,c.jsx)(l.BsChevronCompactLeft,{})}),(0,c.jsx)("div",{className:"artistCarousel px-3 mb-2",ref:e=>p.current[t]=e,style:{display:"flex",overflow:"hidden",width:"100%"},children:null===(n=a[e.name])||void 0===n?void 0:n.map((e=>(0,c.jsxs)("div",{className:"artistImage",style:{flex:"0 0 16.67%",boxSizing:"border-box",padding:"0 5px"},children:[(0,c.jsx)(s.N_,{to:"/artist/".concat(e._id),children:(0,c.jsxs)("div",{className:"artistImage",children:[e.imageUrl&&(0,c.jsx)("img",{src:"".concat("http://dubaimusic.com:5000","/").concat(e.imageUrl),alt:e.title,width:"100%",loading:"lazy"}),(0,c.jsx)("div",{className:"artContent",children:(0,c.jsx)("h4",{className:"artTitle",children:e.title})})]})}),(0,c.jsx)("div",{className:"favoriteIcon",children:(0,c.jsx)("button",{onClick:()=>(e=>{const t=JSON.parse(localStorage.getItem("favorites"))||[],a=t.some((t=>t._id===e._id))?t.filter((t=>t._id!==e._id)):[...t,e];f(a),localStorage.setItem("favorites",JSON.stringify(a))})(e),children:j(e)?(0,c.jsx)(l.BsHeartFill,{className:" favorited"}):(0,c.jsx)(l.BsHeartFill,{className:"heartIcon "})})})]},e._id)))}),(null===(o=x[t])||void 0===o?void 0:o.right)&&(0,c.jsx)("button",{className:"arrow right react-multiple-carousel__arrow",onClick:()=>y(1,t),children:(0,c.jsx)(l.BsChevronCompactRight,{})})]},e._id)}))})]})}}}]);
//# sourceMappingURL=393.4801f8dc.chunk.js.map