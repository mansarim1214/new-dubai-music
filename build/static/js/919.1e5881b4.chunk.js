"use strict";(self.webpackChunkdubaimusic=self.webpackChunkdubaimusic||[]).push([[919],{3919:(e,s,t)=>{t.r(s),t.d(s,{default:()=>u});var a=t(5043),r=t(6213),c=t(8270),l=t(8227),i=t(5475),n=t(1462),o=t(7265),d=t(579);c.os.registerPlugin(l.s);const u=()=>{const[e,s]=(0,a.useState)([]),[t,u]=(0,a.useState)(!0),h=(0,a.useRef)([]);(0,a.useEffect)((()=>{(async()=>{try{const e=(await r.A.get("".concat("http://dubaimusic.com:5000","/api/venues"))).data.filter((e=>"published"===e.status));s(e)}catch(e){console.error("Error fetching venues:",e)}finally{u(!1)}})()}),[]);const m=["Hot Picks","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],p=(()=>{const s={};e.forEach((e=>{s[e.category]||(s[e.category]=[]),s[e.category].push(e)}));const t={};return m.forEach((e=>{s[e]&&(t[e]=s[e].map((e=>({item:e,sort:Math.random()}))).sort(((e,s)=>e.sort-s.sort)).map((e=>{let{item:s}=e;return s})))})),t})(),x=(e,s)=>{const t=h.current[s];if(t){const s=t.querySelector(".venueImage"),a=3*(s?s.clientWidth:0);let r=t.scrollLeft+a*e;r=Math.max(0,Math.min(r,t.scrollWidth-t.clientWidth)),c.os.to(t,{scrollLeft:r,duration:.5,ease:"power2.out"})}};return(0,a.useEffect)((()=>{window.innerWidth<=500&&h.current.forEach((e=>{e&&(c.os.killTweensOf(e),l.s.create(e,{type:"x",bounds:{minX:-e.scrollWidth+e.clientWidth,maxX:0},inertia:!0,throwProps:!0,edgeResistance:.65,onThrowUpdate:()=>{c.os.to(e,{x:e._gsap.x,ease:"power2.out"})},snap:{x:e=>200*Math.round(e/16.67)}}))}))}),[p]),t?(0,d.jsx)(o.A,{}):(0,d.jsx)("div",{className:"bg-custom",children:(0,d.jsx)("div",{className:"container-fluid p-0",children:Object.keys(p).map(((e,s)=>{const t=h.current[s],a=t&&t.scrollWidth>t.clientWidth;return(0,d.jsxs)("div",{className:"category-wrapper",children:[(0,d.jsxs)("div",{className:"div mb-2",children:[(0,d.jsx)("h2",{className:"my-2 fav-title",children:e}),(0,d.jsx)("hr",{})]}),(0,d.jsx)("div",{className:"row",children:(0,d.jsxs)("div",{className:"col p-relative",children:[a&&(0,d.jsx)("button",{className:"arrow left react-multiple-carousel__arrow react-multiple-carousel__arrow--left",onClick:()=>x(-1,s),children:(0,d.jsx)(n.BsChevronCompactLeft,{})}),(0,d.jsx)("div",{className:"venueCarousel",ref:e=>h.current[s]=e,style:{display:"flex",overflow:"hidden",width:"100%"},children:p[e].map((e=>(0,d.jsx)("div",{className:"venueImage",style:{flex:"0 0 16.67%",padding:"0 5px"},children:(0,d.jsx)(i.N_,{to:"/venuedetail/".concat(e._id),children:(0,d.jsxs)("div",{className:"artistImage",children:[e.featuredImage&&(0,d.jsx)("img",{src:"".concat("http://dubaimusic.com:5000","/").concat(e.featuredImage),alt:e.title,width:"100%",loading:"lazy"}),(0,d.jsx)("span",{children:e.isNew&&(0,d.jsx)("span",{className:"newLabel",children:"Recently Added"})}),(0,d.jsxs)("div",{className:"artContent",children:[(0,d.jsx)("h4",{className:"artTitle",children:e.title}),e.location&&(0,d.jsxs)("span",{className:"location",children:[(0,d.jsx)(n.BsFillGeoAltFill,{})," ",e.location]})]})]})})},e._id)))}),a&&(0,d.jsx)("button",{className:"arrow right react-multiple-carousel__arrow react-multiple-carousel__arrow--right",onClick:()=>x(1,s),children:(0,d.jsx)(n.BsChevronCompactRight,{})})]})})]},e)}))})})}}}]);
//# sourceMappingURL=919.1e5881b4.chunk.js.map